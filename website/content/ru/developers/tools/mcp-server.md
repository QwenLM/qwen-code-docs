# MCP-—Å–µ—Ä–≤–µ—Ä—ã —Å Qwen Code

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä–æ–≤ Model Context Protocol (MCP) —Å Qwen Code.

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä–≤–µ—Ä MCP?

–°–µ—Ä–≤–µ—Ä MCP ‚Äî —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è CLI —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª Model Context Protocol, –ø–æ–∑–≤–æ–ª—è—è –µ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö. –°–µ—Ä–≤–µ—Ä—ã MCP –≤—ã—Å—Ç—É–ø–∞—é—Ç –≤ —Ä–æ–ª–∏ –º–æ—Å—Ç–∞ –º–µ–∂–¥—É –º–æ–¥–µ–ª—å—é –∏ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–æ–π –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ API.

–°–µ—Ä–≤–µ—Ä MCP –ø–æ–∑–≤–æ–ª—è–µ—Ç CLI:

- **–û–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** –ü–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∏—Ö –æ–ø–∏—Å–∞–Ω–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ö–µ–º.
- **–í—ã–ø–æ–ª–Ω—è—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** –í—ã–∑—ã–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∏ –ø–æ–ª—É—á–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.
- **–ü–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º:** –ß–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ö–æ—Ç—è CLI –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤).

–° –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–µ—Ä–∞ MCP –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ CLI, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è, –≤—ã—Ö–æ–¥—è—â–∏–µ –∑–∞ —Ä–∞–º–∫–∏ –µ–≥–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, API, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

Qwen Code –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏ MCP —á–µ—Ä–µ–∑ —Å–ª–æ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç (`packages/core/src/tools/`):

### –°–ª–æ–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è (`mcp-client.ts`)

–ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π `discoverMcpTools()`, –∫–æ—Ç–æ—Ä–∞—è:

1. **–ü–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã** –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `mcpServers` –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ `settings.json`
2. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (Stdio, SSE –∏–ª–∏ –ø–æ—Ç–æ–∫–æ–≤—ã–π HTTP)
3. **–ü–æ–ª—É—á–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤** –æ—Ç –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É MCP
4. **–û—á–∏—â–∞–µ—Ç –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç** —Å—Ö–µ–º—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å API Qwen
5. **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Ä–µ–µ—Å—Ç—Ä–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### –°–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`mcp-tool.ts`)

–ö–∞–∂–¥—ã–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç MCP –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä `DiscoveredMCPTool`, –∫–æ—Ç–æ—Ä—ã–π:

- **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–≥–∏–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–æ–≤–µ—Ä–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- **–£–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞**, –≤—ã–∑—ã–≤–∞—è —Å–µ—Ä–≤–µ—Ä MCP —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç—ã** –∫–∞–∫ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ LLM, —Ç–∞–∫ –∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç—ã

### –ú–µ—Ö–∞–Ω–∏–∑–º—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

CLI –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∏ —Ç–∏–ø–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ MCP:

- **Stdio Transport:** –ó–∞–ø—É—Å–∫–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —á–µ—Ä–µ–∑ stdin/stdout
- **SSE Transport:** –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∫–æ–Ω–µ—á–Ω—ã–º —Ç–æ—á–∫–∞–º Server-Sent Events
- **–ü–æ—Ç–æ–∫–æ–≤—ã–π HTTP Transport:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç HTTP-–ø–æ—Ç–æ–∫–æ–≤—É—é –ø–µ—Ä–µ–¥–∞—á—É –¥–ª—è —Å–≤—è–∑–∏

## –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∞—à MCP-—Å–µ—Ä–≤–µ—Ä

Qwen Code –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `mcpServers` –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ `settings.json` –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ MCP-—Å–µ—Ä–≤–µ—Ä–∞–º. –≠—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ MCP –≤ settings.json

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–µ—Ä—ã MCP –≤ —Ñ–∞–π–ª–µ `settings.json` –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏: —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `mcpServers` –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç `mcp` –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–æ–≤.

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MCP (`mcp`)

–û–±—ä–µ–∫—Ç `mcp` –≤ –≤–∞—à–µ–º `settings.json` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ MCP.

- **`mcp.serverCommand`** (—Å—Ç—Ä–æ–∫–∞): –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ MCP.
- **`mcp.allowed`** (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫): –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∏–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–æ–≤ MCP. –ï—Å–ª–∏ –∑–∞–¥–∞–Ω, –±—É–¥—É—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä—ã –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∞–º –≤ –æ–±—ä–µ–∫—Ç–µ `mcpServers`).
- **`mcp.excluded`** (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫): –°–ø–∏—Å–æ–∫ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∏–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–æ–≤ MCP. –°–µ—Ä–≤–µ—Ä—ã –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –Ω–µ –±—É–¥—É—Ç.

**–ü—Ä–∏–º–µ—Ä:**

```json
{
  "mcp": {
    "allowed": ["my-trusted-server"],
    "excluded": ["experimental-server"]
  }
}
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (`mcpServers`)

–û–±—ä–µ–∫—Ç `mcpServers` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ MCP, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ CLI.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–î–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç `mcpServers` –≤ –≤–∞—à —Ñ–∞–π–ª `settings.json`:

```json
{ ...–≤ —Ñ–∞–π–ª–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  "mcpServers": {
    "serverName": {
      "command": "path/to/server",
      "args": ["--arg1", "value1"],
      "env": {
        "API_KEY": "$MY_API_TOKEN"
      },
      "cwd": "./server-directory",
      "timeout": 30000,
      "trust": false
    }
  }
}
```

### –°–≤–æ–π—Å—Ç–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ö–∞–∂–¥–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (–æ–¥–Ω–æ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö)

- **`command`** (—Å—Ç—Ä–æ–∫–∞): –ü—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ Stdio
- **`url`** (—Å—Ç—Ä–æ–∫–∞): URL-–∞–¥—Ä–µ—Å –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ SSE (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"http://localhost:8080/sse"`)
- **`httpUrl`** (—Å—Ç—Ä–æ–∫–∞): URL-–∞–¥—Ä–µ—Å –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ HTTP

#### –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- **`args`** (string[]): –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ Stdio
- **`headers`** (object): –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ HTTP –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `url` –∏–ª–∏ `httpUrl`
- **`env`** (object): –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ó–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `$VAR_NAME` –∏–ª–∏ `${VAR_NAME}`
- **`cwd`** (string): –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ Stdio
- **`timeout`** (number): –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 600 000 –º—Å = 10 –º–∏–Ω—É—Ç)
- **`trust`** (boolean): –ï—Å–ª–∏ `true`, –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `false`)
- **`includeTools`** (string[]): –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —Å —ç—Ç–æ–≥–æ MCP-—Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ, —Ç–æ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∑–¥–µ—Å—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ allowlist). –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–∞.
- **`excludeTools`** (string[]): –°–ø–∏—Å–æ–∫ –∏–º–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å —Å —ç—Ç–æ–≥–æ MCP-—Å–µ—Ä–≤–µ—Ä–∞. –£–∫–∞–∑–∞–Ω–Ω—ã–µ –∑–¥–µ—Å—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –º–æ–¥–µ–ª–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Å–µ—Ä–≤–µ—Ä–æ–º. **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `excludeTools` –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ `includeTools` ‚Äî –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –æ–±–æ–∏—Ö —Å–ø–∏—Å–∫–∞—Ö, –æ–Ω –±—É–¥–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω.
- **`targetAudience`** (string): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ IAP, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å `authProviderType: 'service_account_impersonation'`.
- **`targetServiceAccount`** (string): Email-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Google Cloud, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å `authProviderType: 'service_account_impersonation'`.

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OAuth –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ MCP

Qwen Code –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é OAuth 2.0 –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ MCP —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤ SSE –∏–ª–∏ HTTP. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä–∞–º MCP, —Ç—Ä–µ–±—É—é—â–∏–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ OAuth

–î–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ OAuth, –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OAuth –∏ –ø–æ–∑–≤–æ–ª–∏—Ç—å CLI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –µ—ë:

```json
{
  "mcpServers": {
    "discoveredServer": {
      "url": "https://api.example.com/sse"
    }
  }
}
```

CLI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- –û–ø—Ä–µ–¥–µ–ª–∏—Ç, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ OAuth (–æ—Ç–≤–µ—Ç—ã 401)
- –û–±–Ω–∞—Ä—É–∂–∏—Ç –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ OAuth –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞
- –í—ã–ø–æ–ª–Ω–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞, –µ—Å–ª–∏ —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- –û–±—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ç–æ–∫ OAuth –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏

#### –ü–æ—Ç–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OAuth:

1. **–ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π 401 Unauthorized
2. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ OAuth** –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ–Ω–µ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ç–æ–∫–µ–Ω–æ–≤
3. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –±—Ä–∞—É–∑–µ—Ä—É)
4. **–ö–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞
5. **–¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
6. **–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ —Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –±—Ä–∞—É–∑–µ—Ä–∞

**–í–∞–∂–Ω–æ:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ OAuth —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –≤–∞—à –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä –º–æ–≥:

- –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:7777/oauth/callback`

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤:

- –ë–µ—Å—Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –±—Ä–∞—É–∑–µ—Ä—É
- –£–¥–∞–ª—ë–Ω–Ω—ã—Ö SSH-—Å–µ—Å—Å–∏—è—Ö –±–µ–∑ X11 forwarding
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π OAuth

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/mcp auth` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π OAuth:

```bash

# –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
/mcp auth
```

```markdown
# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º
/mcp auth serverName

# –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
/mcp auth serverName
```

#### –°–≤–æ–π—Å—Ç–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ OAuth

- **`enabled`** (boolean): –í–∫–ª—é—á–∏—Ç—å OAuth –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **`clientId`** (string): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- **`clientSecret`** (string): –°–µ–∫—Ä–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ OAuth (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)
- **`authorizationUrl`** (string): –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ OAuth (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞)
- **`tokenUrl`** (string): –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ —Ç–æ–∫–µ–Ω–∞ OAuth (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞)
- **`scopes`** (string[]): –¢—Ä–µ–±—É–µ–º—ã–µ –æ–±–ª–∞—Å—Ç–∏ OAuth
- **`redirectUri`** (string): –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:7777/oauth/callback`)
- **`tokenParamName`** (string): –ò–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –≤ URL-–∞–¥—Ä–µ—Å–∞—Ö SSE
- **`audiences`** (string[]): –ê—É–¥–∏—Ç–æ—Ä–∏–∏, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω —Ç–æ–∫–µ–Ω
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏

–¢–æ–∫–µ–Ω—ã OAuth –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è** –≤ `~/.qwen/mcp-oauth-tokens.json`
- **–û–±–Ω–æ–≤–ª—è—é—Ç—Å—è** –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–∫–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- **–ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–û—á–∏—â–∞—é—Ç—Å—è** –ø—Ä–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è

#### –¢–∏–ø –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–π—Å—Ç–≤–∞ `authProviderType`:

- **`authProviderType`** (—Å—Ç—Ä–æ–∫–∞): –£–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ú–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–¥–Ω–æ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
  - **`dynamic_discovery`** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): CLI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OAuth —Å —Å–µ—Ä–≤–µ—Ä–∞.
  - **`google_credentials`**: CLI –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Google –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (ADC) –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–µ –æ–±–ª–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞ (scopes).
  - **`service_account_impersonation`**: CLI –±—É–¥–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Google Cloud –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ª—É–∂–±–∞–º, –∑–∞—â–∏—â–µ–Ω–Ω—ã–º IAP (–≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, —ç—Ç–æ –±—ã–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Å–ª—É–∂–± Cloud Run).

#### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Google

```json
{
  "mcpServers": {
    "googleCloudServer": {
      "httpUrl": "https://my-gcp-service.run.app/mcp",
      "authProviderType": "google_credentials",
      "oauth": {
        "scopes": ["https://www.googleapis.com/auth/userinfo.email"]
      }
    }
  }
}
```

#### –û–ª–∏—Ü–µ—Ç–≤–æ—Ä–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å–ª—É–∂–±—ã

–ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é –æ–ª–∏—Ü–µ—Ç–≤–æ—Ä–µ–Ω–∏—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å–ª—É–∂–±—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `authProviderType` —Ä–∞–≤–Ω—ã–º `service_account_impersonation` –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:

- **`targetAudience`** (—Å—Ç—Ä–æ–∫–∞): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth, –≤–Ω–µ—Å–µ–Ω–Ω—ã–π –≤ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ IAP, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø.
- **`targetServiceAccount`** (—Å—Ç—Ä–æ–∫–∞): –ê–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å–ª—É–∂–±—ã Google Cloud, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –æ–ª–∏—Ü–µ—Ç–≤–æ—Ä–∏—Ç—å.

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (ADC) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ OIDC –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å–ª—É–∂–±—ã –∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏. –ó–∞—Ç–µ–º —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ MCP.

#### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

1. **[–°–æ–∑–¥–∞–π—Ç–µ](https://cloud.google.com/iap/docs/oauth-client-creation) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth 2.0.** –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth 2.0, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —à–∞–≥–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ [–ö–∞–∫ –¥–µ–ª–∏—Ç—å—Å—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ OAuth](https://cloud.google.com/iap/docs/sharing-oauth-clients).
2. **–î–æ–±–∞–≤—å—Ç–µ OAuth ID –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–ª—è [–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞](https://cloud.google.com/iap/docs/sharing-oauth-clients#programmatic_access) –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.** –ü–æ—Å–∫–æ–ª—å–∫—É Cloud Run –µ—â–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ç–∏–ø —Ä–µ—Å—É—Ä—Å–∞ –≤ gcloud iap, –≤—ã –¥–æ–ª–∂–Ω—ã –¥–æ–±–∞–≤–∏—Ç—å Client ID –≤ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
3. **–°–æ–∑–¥–∞–π—Ç–µ —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å —Å–ª—É–∂–±—ã.** [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://cloud.google.com/iam/docs/service-accounts-create#creating), [–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å Cloud](https://console.cloud.google.com/iam-admin/serviceaccounts)
4. **–î–æ–±–∞–≤—å—Ç–µ —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å —Å–ª—É–∂–±—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø–æ–ª–∏—Ç–∏–∫—É IAP** –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ Cloud Run –∏–ª–∏ —á–µ—Ä–µ–∑ gcloud.
5. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –≥—Ä—É–ø–ø–∞–º**, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É MCP, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è [–∏–º–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å–ª—É–∂–±—ã](https://cloud.google.com/docs/authentication/use-service-account-impersonation) (—Ç.–µ. `roles/iam.serviceAccountTokenCreator`).
6. **[–í–∫–ª—é—á–∏—Ç–µ](https://console.cloud.google.com/apis/library/iamcredentials.googleapis.com) API —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö IAM** –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

#### Python MCP —Å–µ—Ä–≤–µ—Ä (Stdio)

```json
{
  "mcpServers": {
    "pythonTools": {
      "command": "python",
      "args": ["-m", "my_mcp_server", "--port", "8080"],
      "cwd": "./mcp-servers/python",
      "env": {
        "DATABASE_URL": "$DB_CONNECTION_STRING",
        "API_KEY": "${EXTERNAL_API_KEY}"
      },
      "timeout": 15000
    }
  }
}
```

#### Node.js MCP —Å–µ—Ä–≤–µ—Ä (Stdio)

```json
{
  "mcpServers": {
    "nodeServer": {
      "command": "node",
      "args": ["dist/server.js", "--verbose"],
      "cwd": "./mcp-servers/node",
      "trust": true
    }
  }
}
```

#### MCP —Å–µ—Ä–≤–µ—Ä –Ω–∞ –±–∞–∑–µ Docker

```json
{
  "mcpServers": {
    "dockerizedServer": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-e",
        "API_KEY",
        "-v",
        "${PWD}:/workspace",
        "my-mcp-server:latest"
      ],
      "env": {
        "API_KEY": "$EXTERNAL_SERVICE_TOKEN"
      }
    }
  }
}
```

#### HTTP-—Å–µ—Ä–≤–µ—Ä MCP

```json
{
  "mcpServers": {
    "httpServer": {
      "httpUrl": "http://localhost:3000/mcp",
      "timeout": 5000
    }
  }
}
```

#### HTTP-—Å–µ—Ä–≤–µ—Ä MCP —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏

```json
{
  "mcpServers": {
    "httpServerWithAuth": {
      "httpUrl": "http://localhost:3000/mcp",
      "headers": {
        "Authorization": "Bearer your-api-token",
        "X-Custom-Header": "custom-value",
        "Content-Type": "application/json"
      },
      "timeout": 5000
    }
  }
}
```

#### –°–µ—Ä–≤–µ—Ä MCP —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

```json
{
  "mcpServers": {
    "filteredServer": {
      "command": "python",
      "args": ["-m", "my_mcp_server"],
      "includeTools": ["safe_tool", "file_reader", "data_processor"],
      // "excludeTools": ["dangerous_tool", "file_deleter"],
      "timeout": 30000
    }
  }
}
```

### SSE MCP —Å–µ—Ä–≤–µ—Ä —Å –∏–º–ø–µ—Ä—Å–æ–Ω–∞—Ü–∏–µ–π —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

```json
{
  "mcpServers": {
    "myIapProtectedServer": {
      "url": "https://my-iap-service.run.app/sse",
      "authProviderType": "service_account_impersonation",
      "targetAudience": "YOUR_IAP_CLIENT_ID.apps.googleusercontent.com",
      "targetServiceAccount": "your-sa@your-project.iam.gserviceaccount.com"
    }
  }
}
```

## –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

–ö–æ–≥–¥–∞ Qwen Code –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

### 1. –ò—Ç–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤ `mcpServers`:

1. **–ù–∞—á–∏–Ω–∞–µ—Ç—Å—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:** –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `CONNECTING`
2. **–í—ã–±–æ—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:** –ù–∞ –æ—Å–Ω–æ–≤–µ —Å–≤–æ–π—Å—Ç–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   - `httpUrl` ‚Üí `StreamableHTTPClientTransport`
   - `url` ‚Üí `SSEClientTransport`
   - `command` ‚Üí `StdioClientTransport`
3. **–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:** –ö–ª–∏–µ–Ω—Ç MCP –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –∞ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `DISCONNECTED`

### 2. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

1. **–°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:** –ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ MCP
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `includeTools` –∏ `excludeTools`
4. **–û—á–∏—Å—Ç–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π:** –ù–∞–∑–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –æ—á–∏—â–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ Qwen API:
   - –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã (–≤—Å–µ, –∫—Ä–æ–º–µ –±—É–∫–≤, —Ü–∏—Ñ—Ä, –∑–Ω–∞–∫–æ–≤ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è, —Ç–æ—á–∫–∏ –∏ –¥–µ—Ñ–∏—Å–∞) –∑–∞–º–µ–Ω—è—é—Ç—Å—è –∑–Ω–∞–∫–æ–º –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è
   - –ù–∞–∑–≤–∞–Ω–∏—è –¥–ª–∏–Ω–Ω–µ–µ 63 —Å–∏–º–≤–æ–ª–æ–≤ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è —Å –∑–∞–º–µ–Ω–æ–π —Å–µ—Ä–µ–¥–∏–Ω—ã –Ω–∞ (`___`)

### 3. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

–ö–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º:

1. **–ü–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–±–µ–∂–¥–∞–µ—Ç:** –ü–µ—Ä–≤—ã–π —Å–µ—Ä–≤–µ—Ä, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–≤—à–∏–π –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤:** –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏: `serverName__toolName`
3. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞:** –†–µ–µ—Å—Ç—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–µ–∂–¥—É –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ö–µ–º

–°—Ö–µ–º—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å API:

- **–°–≤–æ–π—Å—Ç–≤–∞ `$schema`** —É–¥–∞–ª—è—é—Ç—Å—è
- **`additionalProperties`** –≤—ã—Ä–µ–∑–∞—é—Ç—Å—è
- **`anyOf` —Å `default`** —Ç–µ—Ä—è—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Vertex AI)
- **–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Å—Ö–µ–º–∞–º

### 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

–ü–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:

- **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:** –°–µ—Ä–≤–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å–≤–æ–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–û—á–∏—Å—Ç–∫–∞:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤, –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–≤—à–∏—Ö –ø—Ä–∏–≥–æ–¥–Ω—ã—Ö –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞:** –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã —Å–µ—Ä–≤–µ—Ä–æ–≤ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ `CONNECTED` –∏–ª–∏ `DISCONNECTED`

## –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

–ö–æ–≥–¥–∞ –º–æ–¥–µ–ª—å —Ä–µ—à–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç MCP, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

### 1. –í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

–ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `FunctionCall` —Å:

- **–ò–º—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:** –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è (–≤–æ–∑–º–æ–∂–Ω–æ, —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º)
- **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –û–±—ä–µ–∫—Ç JSON, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—Ö–µ–º–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

### 2. –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

–ö–∞–∂–¥—ã–π `DiscoveredMCPTool` —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:

#### –û–±—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–≤–µ—Ä–∏—è

```typescript
if (this.trust) {
  return false; // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
}
```

#### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–ø–∏—Å–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–ª—è:

- **–ù–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞:** `serverName` ‚Üí –í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏
- **–ù–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:** `serverName.toolName` ‚Üí –≠—Ç–æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å:

- **–í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑:** –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ—Ç —Ä–∞–∑
- **–í—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∞—Ç—å —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- **–í—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–∞—Ç—å —ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä:** –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
- **–û—Ç–º–µ–Ω–∞:** –ü—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–∏–ª–∏ –æ–±—Ö–æ–¥–∞ –¥–æ–≤–µ—Ä–∏—è):

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
2. **–í—ã–∑–æ–≤ MCP:** –ë–∞–∑–æ–≤—ã–π `CallableTool` –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä —Å:

   ```typescript
   const functionCalls = [
     {
       name: this.serverToolName, // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–º—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
       args: params,
     },
   ];
   ```

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞:** –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ LLM, —Ç–∞–∫ –∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç:

- **`llmContent`:** –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏
- **`returnDisplay`:** –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—á–∞—Å—Ç–æ JSON –≤ –±–ª–æ–∫–∞—Ö –∫–æ–¥–∞ markdown)

## –ö–∞–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –≤–∞—à–∏–º MCP-—Å–µ—Ä–≤–µ—Ä–æ–º

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã `/mcp`

–ö–æ–º–∞–Ω–¥–∞ `/mcp` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤–∞—à–µ–≥–æ MCP-—Å–µ—Ä–≤–µ—Ä–∞:

```bash
/mcp
```

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:

- **–°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤:** –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ MCP-—Å–µ—Ä–≤–µ—Ä—ã
- **–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** `CONNECTED`, `CONNECTING` –∏–ª–∏ `DISCONNECTED`
- **–î–µ—Ç–∞–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞:** –°–≤–æ–¥–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–±–µ–∑ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
- **–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è:** –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ `/mcp`

```
–°—Ç–∞—Ç—É—Å MCP-—Å–µ—Ä–≤–µ—Ä–æ–≤:

üì° pythonTools (CONNECTED)
  –ö–æ–º–∞–Ω–¥–∞: python -m my_mcp_server --port 8080
  –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: ./mcp-servers/python
  –¢–∞–π–º–∞—É—Ç: 15000 –º—Å
  –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: calculate_sum, file_analyzer, data_processor

üîå nodeServer (DISCONNECTED)
  –ö–æ–º–∞–Ω–¥–∞: node dist/server.js --verbose
  –û—à–∏–±–∫–∞: –í —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –æ—Ç–∫–∞–∑–∞–Ω–æ

üê≥ dockerizedServer (CONNECTED)
  –ö–æ–º–∞–Ω–¥–∞: docker run -i --rm -e API_KEY my-mcp-server:latest
  –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: docker__deploy, docker__status

–°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è: COMPLETED
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ü–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã MCP —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –º–æ–¥–µ–ª–∏ Qwen –∫–∞–∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–í—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
2. **–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** (–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º)
3. **–í—ã–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
4. **–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –≤ —É–¥–æ–±–Ω–æ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ñ–æ—Ä–º–∞—Ç–µ

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MCP –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π:

#### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ (`MCPServerStatus`)

- **`DISCONNECTED`:** –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –æ—à–∏–±–∫–∏
- **`CONNECTING`:** –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **`CONNECTED`:** –°–µ—Ä–≤–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

#### –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è (`MCPDiscoveryState`)

- **`NOT_STARTED`:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –µ—â–µ –Ω–µ –Ω–∞—á–∞–ª–æ—Å—å
- **`IN_PROGRESS`:** –í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤
- **`COMPLETED`:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ (—Å –æ—à–∏–±–∫–∞–º–∏ –∏–ª–∏ –±–µ–∑ –Ω–∏—Ö)

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

#### –°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:** –°–µ—Ä–≤–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `DISCONNECTED`

**–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `command`, `args` –∏ `cwd` —É–∫–∞–∑–∞–Ω—ã –≤–µ—Ä–Ω–æ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞–ø—Ä—è–º—É—é, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:** –ù–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ –≤—ã–≤–æ–¥–µ CLI
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CLI –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Å–µ—Ä–≤–µ—Ä–∞

#### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã

**–°–∏–º–ø—Ç–æ–º—ã:** –°–µ—Ä–≤–µ—Ä –ø–æ–¥–∫–ª—é—á—ë–Ω, –Ω–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

**–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª MCP:** –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ MCP
3. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ stderr –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:** –í—Ä—É—á–Ω—É—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

#### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è, –Ω–æ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
2. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ö–µ–º:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à–∏ –≤—Ö–æ–¥–Ω—ã–µ —Å—Ö–µ–º—ã —è–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ JSON Schema
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ª–∏ –≤–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
4. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–∞–π–º–∞—É—Ç–æ–º:** –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è `timeout`

#### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–µ—Å–æ—á–Ω–∏—Ü—ã

**–°–∏–º–ø—Ç–æ–º—ã:** –°–µ—Ä–≤–µ—Ä—ã MCP –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ

**–†–µ—à–µ–Ω–∏—è:**

1. **–°–µ—Ä–≤–µ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ Docker:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ
3. **–î–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–∏:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Å–æ—á–Ω–∏—Ü—É –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç—Ä–µ–±—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä—å –ø–µ—Å–æ—á–Ω–∏—Ü—ã

### –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ

1. **–í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ CLI —Å —Ñ–ª–∞–≥–æ–º `--debug` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ stderr:** stderr —Å–µ—Ä–≤–µ—Ä–∞ MCP –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∂—É—Ä–Ω–∞–ª (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è)
3. **–ò–∑–æ–ª–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä MCP –æ—Ç–¥–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—ç—Ç–∞–ø–Ω–æ:** –ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø—Ä–µ–∂–¥–µ —á–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ª–æ–∂–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
5. **–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/mcp`:** –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º —Å–µ—Ä–≤–µ—Ä–∞ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–≤–µ—Ä–∏—è:** –û–ø—Ü–∏—è `trust` –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –¥–∏–∞–ª–æ–≥–æ–≤—ã–µ –æ–∫–Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –≤—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ
- **–¢–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞:** –ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö API-–∫–ª—é—á–∏ –∏–ª–∏ —Ç–æ–∫–µ–Ω—ã
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–µ—Å–æ—á–Ω–∏—Ü—ã:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä—ã MCP –¥–æ—Å—Ç—É–ø–Ω—ã –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π —Å—Ä–µ–¥—ã
- **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞ —Å —à–∏—Ä–æ–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π:** CLI –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:** –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞–º–∏, –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞–º–∏:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –æ—Ç–≤–µ—Ç–∞ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:** –°–µ—Ä–≤–µ—Ä—ã MCP –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å—Ö–µ–º

- **–£–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤:** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å—Ö–µ–º—ã (`$schema`, `additionalProperties`) –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Qwen API
- **–û—á–∏—Å—Ç–∫–∞ –∏–º–µ–Ω:** –ò–º–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º API
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø—É—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤

–≠—Ç–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä—ã MCP –º–æ—â–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π CLI —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## –í–æ–∑–≤—Ä–∞—Ç —Ä–∞–∑–Ω–æ—Ñ–æ—Ä–º–∞—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã MCP –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –≤–æ–∑–≤—Ä–∞—Ç–æ–º –ø—Ä–æ—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞. –í—ã –º–æ–∂–µ—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –º–Ω–æ–≥–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –≤–∫–ª—é—á–∞—è —Ç–µ–∫—Å—Ç, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞—É–¥–∏–æ –∏ –¥—Ä—É–≥–∏–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –æ—Ç–≤–µ—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —Å–ø–æ—Å–æ–±–Ω—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –º–æ–¥–µ–ª–∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∏–¥—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∑–∞ –æ–¥–∏–Ω —à–∞–≥.

–í—Å–µ –¥–∞–Ω–Ω—ã–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –º–æ–¥–µ–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –ø–æ–∑–≤–æ–ª—è—è –µ–π –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ß—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –æ—Ç–≤–µ—Ç –≤–∞—à–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ MCP –¥–ª—è [`CallToolResult`](https://modelcontextprotocol.io/specification/2025-06-18/server/tools#tool-result). –ü–æ–ª–µ `content` —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º –æ–±—ä–µ–∫—Ç–æ–≤ `ContentBlock`. CLI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–æ—Ç –º–∞—Å—Å–∏–≤, –æ—Ç–¥–µ–ª—è—è —Ç–µ–∫—Å—Ç –æ—Ç –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø–∞–∫–æ–≤—ã–≤–∞—è –µ–≥–æ –¥–ª—è –º–æ–¥–µ–ª–∏.

–í—ã –º–æ–∂–µ—Ç–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –±–ª–æ–∫–æ–≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –≤ –º–∞—Å—Å–∏–≤–µ `content`. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –±–ª–æ–∫–æ–≤ –≤–∫–ª—é—á–∞—é—Ç:

- `text`
- `image`
- `audio`
- `resource` (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
- `resource_link`

### –ü—Ä–∏–º–µ—Ä: –≤–æ–∑–≤—Ä–∞—Ç —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–í–æ—Ç –ø—Ä–∏–º–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ JSON-–æ—Ç–≤–µ—Ç–∞ –æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ MCP, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–∞–∫ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:

```json
{
  "content": [
    {
      "type": "text",
      "text": "–í–æ—Ç –ª–æ–≥–æ—Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏."
    },
    {
      "type": "image",
      "data": "BASE64_ENCODED_IMAGE_DATA_HERE",
      "mimeType": "image/png"
    },
    {
      "type": "text",
      "text": "–õ–æ–≥–æ—Ç–∏–ø –±—ã–ª —Å–æ–∑–¥–∞–Ω –≤ 2025 –≥–æ–¥—É."
    }
  ]
}
```

–ö–æ–≥–¥–∞ Qwen Code –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç, –æ–Ω:

1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –µ–≥–æ –≤ –æ–¥–Ω—É —á–∞—Å—Ç—å `functionResponse` –¥–ª—è –º–æ–¥–µ–ª–∏.
2. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å `inlineData`.
3. –í—ã–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ –∏ —É–¥–æ–±–Ω–æ–µ —Ä–µ–∑—é–º–µ –≤ CLI, —É–∫–∞–∑—ã–≤–∞—è, —á—Ç–æ –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –∏ —Ç–µ–∫—Å—Ç, –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ.

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –±–æ–≥–∞—Ç—ã–π –º–Ω–æ–≥–æ–º–æ–¥–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥–µ–ª–∏ Qwen.

## MCP –ü—Ä–æ–º–ø—Ç—ã –∫–∞–∫ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã

–ü–æ–º–∏–º–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Å–µ—Ä–≤–µ—Ä—ã MCP –º–æ–≥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–∞–∫ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã –≤ Qwen Code. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —è—Ä–ª—ã–∫–∏ –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–ª–∏ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏.

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–í–æ—Ç –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–∏–º–µ—Ä stdio MCP-—Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏:

```ts
import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import { z } from 'zod';

const server = new McpServer({
  name: 'prompt-server',
  version: '1.0.0',
});

server.registerPrompt(
  'poem-writer',
  {
    title: 'Poem Writer',
    description: 'Write a nice haiku',
    argsSchema: { title: z.string(), mood: z.string().optional() },
  },
  ({ title, mood }) => ({
    messages: [
      {
        role: 'user',
        content: {
          type: 'text',
          text: `Write a haiku${mood ? ` with the mood ${mood}` : ''} called ${title}. Note that a haiku is 5 syllables followed by 7 syllables followed by 5 syllables `,
        },
      },
    ],
  }),
);

const transport = new StdioServerTransport();
await server.connect(transport);
```

–≠—Ç–æ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤ `settings.json` –ø–æ–¥ `mcpServers` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```json
{
  "mcpServers": {
    "nodeServer": {
      "command": "node",
      "args": ["filename.ts"]
    }
  }
}
```

### –í—ã–∑–æ–≤ –ø–æ–¥—Å–∫–∞–∑–æ–∫

–ü–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å –µ—ë, –∏—Å–ø–æ–ª—å–∑—É—è –∏–º—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–º–∞–Ω–¥—ã —Å –∫–æ—Å–æ–π —á–µ—Ä—Ç–æ–π. CLI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

```bash
/poem-writer --title="Qwen Code" --mood="reverent"
```

–∏–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—è –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:

```bash
/poem-writer "Qwen Code" reverent
```

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã CLI –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `prompts/get` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ MCP —Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏. –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫—É –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ —à–∞–±–ª–æ–Ω –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏. –ó–∞—Ç–µ–º CLI –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç—É –ø–æ–¥—Å–∫–∞–∑–∫—É –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –æ–±–º–µ–Ω–∞ –æ–±—â–∏–º–∏ —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏ MCP —Å –ø–æ–º–æ—â—å—é `qwen mcp`

–•–æ—Ç—è –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–µ—Ä—ã MCP, –≤—Ä—É—á–Ω—É—é –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–≤ —Ñ–∞–π–ª `settings.json`, CLI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –≤–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤. –≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–æ—â–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤ MCP –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è JSON-—Ñ–∞–π–ª–æ–≤.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ (`qwen mcp add`)

–ö–æ–º–∞–Ω–¥–∞ `add` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä MCP –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ `settings.json`. –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±–ª–∞—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è (`-s, --scope`), –æ–Ω –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ª–∏–±–æ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ñ–∏–≥ `~/.qwen/settings.json`, –ª–∏–±–æ –≤ –ø—Ä–æ–µ–∫—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ `.qwen/settings.json`.

**–ö–æ–º–∞–Ω–¥–∞:**

```bash
qwen mcp add [options] <name> <commandOrUrl> [args...]
```

- `<name>`: –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞.
- `<commandOrUrl>`: –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è `stdio`) –∏–ª–∏ URL (–¥–ª—è `http`/`sse`).
- `[args...]`: –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–º–∞–Ω–¥—ã `stdio`.

**–û–ø—Ü–∏–∏ (–§–ª–∞–≥–∏):**

- `-s, --scope`: –û–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–ª–∏ –ø—Ä–æ–µ–∫—Ç–Ω–∞—è). [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "project"]
- `-t, --transport`: –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (stdio, sse, http). [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "stdio"]
- `-e, --env`: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, -e KEY=value).
- `-H, --header`: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ HTTP –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤ SSE –∏ HTTP (–Ω–∞–ø—Ä–∏–º–µ—Ä, -H "X-Api-Key: abc123" -H "Authorization: Bearer abc123").
- `--timeout`: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö.
- `--trust`: –î–æ–≤–µ—Ä—è—Ç—å —Å–µ—Ä–≤–µ—Ä—É (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤).
- `--description`: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞.
- `--include-tools`: –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø—è—Ç—ã–º–∏.
- `--exclude-tools`: –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø—è—Ç—ã–º–∏.

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ stdio-—Å–µ—Ä–≤–µ—Ä–∞

–≠—Ç–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤.

```bash

# –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
qwen mcp add <name> <command> [args...]

# –ü—Ä–∏–º–µ—Ä: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
qwen mcp add my-stdio-server -e API_KEY=123 /path/to/server arg1 arg2 arg3

# –ü—Ä–∏–º–µ—Ä: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ python-—Å–µ—Ä–≤–µ—Ä–∞
qwen mcp add python-server python server.py --port 8080
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ HTTP-—Å–µ—Ä–≤–µ—Ä–∞

–≠—Ç–æ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Ç–æ–∫–æ–≤—É—é –ø–µ—Ä–µ–¥–∞—á—É –ø–æ HTTP.

```bash

# –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
qwen mcp add --transport http <name> <url>

# –ü—Ä–∏–º–µ—Ä: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ HTTP-—Å–µ—Ä–≤–µ—Ä–∞
qwen mcp add --transport http http-server https://api.example.com/mcp/

# –ü—Ä–∏–º–µ—Ä: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ HTTP-—Å–µ—Ä–≤–µ—Ä–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
qwen mcp add --transport http secure-http https://api.example.com/mcp/ --header "Authorization: Bearer abc123"
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SSE-—Å–µ—Ä–≤–µ—Ä–∞

–≠—Ç–æ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Server-Sent Events (SSE).

```bash

# –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
qwen mcp add --transport sse <name> <url>
```

# –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SSE-—Å–µ—Ä–≤–µ—Ä–∞
qwen mcp add --transport sse sse-server https://api.example.com/sse/

# –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SSE-—Å–µ—Ä–≤–µ—Ä–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
qwen mcp add --transport sse secure-sse https://api.example.com/sse/ --header "Authorization: Bearer abc123"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤ (`qwen mcp list`)

–ß—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ MCP-—Å–µ—Ä–≤–µ—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `list`. –û–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–º—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, —Å–≤–µ–¥–µ–Ω–∏—è –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

**–ö–æ–º–∞–Ω–¥–∞:**

```bash
qwen mcp list
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```sh
‚úì stdio-server: command: python3 server.py (stdio) - –ü–æ–¥–∫–ª—é—á–µ–Ω
‚úì http-server: https://api.example.com/mcp (http) - –ü–æ–¥–∫–ª—é—á–µ–Ω
‚úó sse-server: https://api.example.com/sse (sse) - –û—Ç–∫–ª—é—á–µ–Ω
```

### –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ (`qwen mcp remove`)

–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏–∑ –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `remove` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–µ—Ä–∞.

**–ö–æ–º–∞–Ω–¥–∞:**

```bash
qwen mcp remove <name>
```

**–ü—Ä–∏–º–µ—Ä:**

```bash
qwen mcp remove my-server
```

–≠—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ–∏—Å–∫—É –∏ —É–¥–∞–ª–µ–Ω–∏—é –∑–∞–ø–∏—Å–∏ "my-server" –∏–∑ –æ–±—ä–µ–∫—Ç–∞ `mcpServers` –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ñ–∞–π–ª–µ `settings.json`, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±–ª–∞—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è (`-s, --scope`).