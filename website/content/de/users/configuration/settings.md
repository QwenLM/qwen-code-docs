# Qwen Code Konfiguration

> [!tip]
>
> **Authentifizierung / API-Schlüssel:** Die Authentifizierung (Qwen OAuth vs OpenAI-kompatible API) und authentifizierungsrelevante Umgebungsvariablen (wie `OPENAI_API_KEY`) sind in **[Authentifizierung](../users/configuration/auth)** dokumentiert.

> [!note]
>
> **Hinweis zum neuen Konfigurationsformat**: Das Format der `settings.json`-Datei wurde auf eine neue, besser strukturierte Form aktualisiert. Das alte Format wird automatisch migriert.
> Qwen Code bietet mehrere Möglichkeiten, sein Verhalten zu konfigurieren, darunter Umgebungsvariablen, Befehlszeilenargumente und Einstellungsdateien. Dieses Dokument beschreibt die verschiedenen Konfigurationsmethoden und verfügbaren Einstellungen.

## Konfigurationsebenen

Die Konfiguration wird in der folgenden Reihenfolge der Priorität angewendet (niedrigere Nummern werden von höheren überschrieben):

| Ebene | Konfigurationsquelle    | Beschreibung                                                                           |
| ----- | ----------------------- | -------------------------------------------------------------------------------------- |
| 1     | Standardwerte           | Fest codierte Standardwerte innerhalb der Anwendung                                    |
| 2     | System-Standarddatei    | Systemweite Standardeinstellungen, die durch andere Einstellungsdateien überschrieben werden können |
| 3     | Benutzereinstellungsdatei | Globale Einstellungen für den aktuellen Benutzer                                     |
| 4     | Projekteinstellungsdatei | Projekt-spezifische Einstellungen                                                     |
| 5     | Systemeinstellungsdatei | Systemweite Einstellungen, die alle anderen Einstellungsdateien überschreiben         |
| 6     | Umgebungsvariablen      | Systemweite oder sitzungsspezifische Variablen, möglicherweise aus `.env`-Dateien geladen |
| 7     | Befehlszeilenargumente  | Werte, die beim Starten der CLI übergeben werden                                      |

## Einstellungsdateien

Qwen Code verwendet JSON-Einstellungsdateien für die persistente Konfiguration. Es gibt vier Speicherorte für diese Dateien:

| Dateityp               | Speicherort                                                                                                                                                                                                                                                                     | Gültigkeitsbereich                                                                                                                                                                                                        |
| ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| System-Standarddatei   | Linux: `/etc/qwen-code/system-defaults.json`<br>Windows: `C:\ProgramData\qwen-code\system-defaults.json`<br>macOS: `/Library/Application Support/QwenCode/system-defaults.json` <br>Der Pfad kann mit der Umgebungsvariable `QWEN_CODE_SYSTEM_DEFAULTS_PATH` überschrieben werden. | Stellt eine Basisebene von systemweiten Standardeinstellungen bereit. Diese Einstellungen haben die niedrigste Priorität und sollen durch Benutzer-, Projekt- oder Systemüberschreibungseinstellungen überschrieben werden. |
| Benutzereinstellungsdatei | `~/.qwen/settings.json` (wobei `~` Ihr Home-Verzeichnis ist).                                                                                                                                                                                                                 | Gilt für alle Qwen Code-Sitzungen des aktuellen Benutzers.                                                                                                                                                                |
| Projekteinstellungsdatei | `.qwen/settings.json` im Stammverzeichnis Ihres Projekts.                                                                                                                                                                                                                      | Gilt nur, wenn Qwen Code aus diesem spezifischen Projekt heraus ausgeführt wird. Projekteinstellungen überschreiben Benutzereinstellungen.                                                                                |
| Systemeinstellungsdatei | Linux: `/etc/qwen-code/settings.json` <br>Windows: `C:\ProgramData\qwen-code\settings.json` <br>macOS: `/Library/Application Support/QwenCode/settings.json`<br>Der Pfad kann mit der Umgebungsvariable `QWEN_CODE_SYSTEM_SETTINGS_PATH` überschrieben werden.                   | Gilt für alle Qwen Code-Sitzungen auf dem System, für alle Benutzer. Systemeinstellungen überschreiben Benutzer- und Projekteinstellungen. Kann für Systemadministratoren in Unternehmen nützlich sein, um Kontrolle über die Qwen Code-Einrichtungen der Benutzer zu haben. |

> [!note]
>
> **Hinweis zu Umgebungsvariablen in Einstellungen:** Zeichenfolgenwerte innerhalb Ihrer `settings.json`-Dateien können Umgebungsvariablen enthalten, indem sie entweder die Syntax `$VAR_NAME` oder `${VAR_NAME}` verwenden. Diese Variablen werden automatisch aufgelöst, wenn die Einstellungen geladen werden. Wenn Sie beispielsweise eine Umgebungsvariable `MY_API_TOKEN` haben, könnten Sie diese in der `settings.json` wie folgt verwenden: `"apiKey": "$MY_API_TOKEN"`.

### Das `.qwen`-Verzeichnis in Ihrem Projekt

Zusätzlich zu einer Projekteinstellungsdatei kann das `.qwen`-Verzeichnis eines Projekts weitere projektspezifische Dateien enthalten, die für den Betrieb von Qwen Code relevant sind, wie zum Beispiel:

- [Benutzerdefinierte Sandbox-Profile](../users/features/sandbox) (z. B. `.qwen/sandbox-macos-custom.sb`, `.qwen/sandbox.Dockerfile`).

### Verfügbare Einstellungen in `settings.json`

Die Einstellungen sind nach Kategorien organisiert. Alle Einstellungen sollten innerhalb ihres entsprechenden Hauptkategorieobjekts in Ihrer `settings.json`-Datei platziert werden.

#### Allgemein

| Einstellung                      | Typ     | Beschreibung                                 | Standardwert |
| ------------------------------- | ------- | ------------------------------------------- | ------------ |
| `general.preferredEditor`       | string  | Der bevorzugte Editor zum Öffnen von Dateien. | `undefined`  |
| `general.vimMode`               | boolean | Aktiviere Vim-Tastenkürzel.                  | `false`      |
| `general.disableAutoUpdate`     | boolean | Automatische Updates deaktivieren.           | `false`      |
| `general.disableUpdateNag`      | boolean | Update-Benachrichtigungen deaktivieren.      | `false`      |
| `general.checkpointing.enabled` | boolean | Aktiviere Sitzungs-Checkpointing zur Wiederherstellung. | `false`      |

#### output

| Einstellung     | Typ    | Beschreibung                  | Standard | Mögliche Werte     |
| --------------- | ------ | ----------------------------- | -------- | ------------------ |
| `output.format` | string | Das Format der CLI-Ausgabe.   | `"text"` | `"text"`, `"json"` |

#### ui

| Einstellung                              | Typ              | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                        | Standard    |
| ---------------------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `ui.theme`                               | string           | Das Farbthema für die Benutzeroberfläche. Siehe [Themen](../users/configuration/themes) für verfügbare Optionen.                                                                                                                                                                                                                                                                                                       | `undefined` |
| `ui.customThemes`                        | object           | Benutzerdefinierte Themendefinitionen.                                                                                                                                                                                                                                                                                                                                                                              | `{}`        |
| `ui.hideWindowTitle`                     | boolean          | Blendet die Fenstertitelleiste aus.                                                                                                                                                                                                                                                                                                                                                                                 | `false`     |
| `ui.hideTips`                            | boolean          | Blendet hilfreiche Tipps in der Benutzeroberfläche aus.                                                                                                                                                                                                                                                                                                                                                            | `false`     |
| `ui.hideBanner`                          | boolean          | Blendet das Anwendungsbanner aus.                                                                                                                                                                                                                                                                                                                                                                                   | `false`     |
| `ui.hideFooter`                          | boolean          | Blendet die Fußzeile aus der Benutzeroberfläche aus.                                                                                                                                                                                                                                                                                                                                                                | `false`     |
| `ui.showMemoryUsage`                     | boolean          | Zeigt Informationen zur Speichernutzung in der Benutzeroberfläche an.                                                                                                                                                                                                                                                                                                                                               | `false`     |
| `ui.showLineNumbers`                     | boolean          | Zeigt Zeilennummern in Codeblöcken in der CLI-Ausgabe an.                                                                                                                                                                                                                                                                                                                                                           | `true`      |
| `ui.showCitations`                       | boolean          | Zeigt Zitate für generierten Text im Chat an.                                                                                                                                                                                                                                                                                                                                                                       | `true`      |
| `enableWelcomeBack`                      | boolean          | Zeigt einen Willkommen-zurück-Dialog an, wenn zu einem Projekt mit Konversationsverlauf zurückgekehrt wird. Wenn aktiviert, erkennt Qwen Code automatisch, ob zu einem Projekt mit einer zuvor generierten Projekterfassung (`.qwen/PROJECT_SUMMARY.md`) zurückgekehrt wird, und zeigt einen Dialog an, der es ermöglicht, die vorherige Konversation fortzusetzen oder neu zu beginnen. Diese Funktion integriert sich mit dem Befehl `/summary` und dem Beenden-Bestätigungsdialog. | `true`      |
| `ui.accessibility.disableLoadingPhrases` | boolean          | Deaktiviert Ladehinweise für die Barrierefreiheit.                                                                                                                                                                                                                                                                                                                                                                  | `false`     |
| `ui.accessibility.screenReader`          | boolean          | Aktiviert den Screenreader-Modus, der die TUI für eine bessere Kompatibilität mit Screenreadern anpasst.                                                                                                                                                                                                                                                                                                             | `false`     |
| `ui.customWittyPhrases`                  | array of strings | Eine Liste benutzerdefinierter Phrasen, die während des Ladevorgangs angezeigt werden. Wenn angegeben, durchläuft die CLI diese Phrasen anstelle der Standardphrasen.                                                                                                                                                                                                                                                  | `[]`        |

#### ide

| Einstellung        | Typ     | Beschreibung                                      | Standard |
| ------------------ | ------- | ------------------------------------------------- | -------- |
| `ide.enabled`      | boolean | IDE-Integrationsmodus aktivieren.                 | `false`  |
| `ide.hasSeenNudge` | boolean | Ob der Benutzer den Hinweis zur IDE-Integration gesehen hat. | `false`  |

#### privacy

| Einstellung                      | Typ     | Beschreibung                              | Standard |
| -------------------------------- | ------- | ----------------------------------------- | -------- |
| `privacy.usageStatisticsEnabled` | boolean | Sammlung von Nutzungsstatistiken aktivieren. | `true`   |

#### model

| Einstellung                                        | Typ     | Beschreibung                                                                                                                                                                                                                                                                                                                                                           | Standard    |
| -------------------------------------------------- | ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `model.name`                                       | string  | Das Qwen-Modell, das für Gespräche verwendet wird.                                                                                                                                                                                                                                                                                                                     | `undefined` |
| `model.maxSessionTurns`                            | number  | Maximale Anzahl von Benutzer-/Modell-/Tool-Runden, die in einer Sitzung gespeichert werden. -1 bedeutet unbegrenzt.                                                                                                                                                                                                                                                    | `-1`        |
| `model.summarizeToolOutput`                        | object  | Aktiviert oder deaktiviert die Zusammenfassung der Tool-Ausgabe. Sie können das Token-Budget für die Zusammenfassung mit der Einstellung `tokenBudget` festlegen. Hinweis: Derzeit wird nur das `run_shell_command`-Tool unterstützt. Beispiel: `{"run_shell_command": {"tokenBudget": 2000}}`                                                                              | `undefined` |
| `model.generationConfig`                           | object  | Erweiterte Überschreibungen, die an den zugrunde liegenden Inhalts-Generator übergeben werden. Unterstützt Anfragesteuerungen wie `timeout`, `maxRetries` und `disableCacheControl` sowie Feinabstimmungsparameter unter `samplingParams` (z. B. `temperature`, `top_p`, `max_tokens`). Nicht festlegen, um sich auf die Standardwerte des Anbieters zu verlassen.              | `undefined` |
| `model.chatCompression.contextPercentageThreshold` | number  | Legt den Schwellenwert für die Komprimierung des Chatverlaufs als Prozentsatz des gesamten Token-Limits des Modells fest. Dies ist ein Wert zwischen 0 und 1, der sowohl für die automatische Komprimierung als auch für den manuellen Befehl `/compress` gilt. Ein Wert von z. B. `0.6` löst die Komprimierung aus, wenn der Chatverlauf 60 % des Token-Limits überschreitet. Verwenden Sie `0`, um die Komprimierung vollständig zu deaktivieren. | `0.7`       |
| `model.skipNextSpeakerCheck`                       | boolean | Überspringt die Prüfung des nächsten Sprechers.                                                                                                                                                                                                                                                                                                                        | `false`     |
| `model.skipLoopDetection`                          | boolean | Deaktiviert die Überprüfung der Schleifenerkennung. Die Schleifenerkennung verhindert Endlosschleifen in KI-Antworten, kann jedoch Fehlalarme erzeugen, die legitime Workflows unterbrechen. Aktivieren Sie diese Option, wenn Sie häufige Unterbrechungen durch Fehlalarme bei der Schleifenerkennung feststellen.                                                         | `false`     |
| `model.skipStartupContext`                         | boolean | Überspringt das Senden des Start-Arbeitsbereichskontexts (Umgebungsübersicht und Bestätigung) am Anfang jeder Sitzung. Aktivieren Sie dies, wenn Sie den Kontext manuell bereitstellen möchten oder Token beim Start sparen möchten.                                                                                                                                      | `false`     |
| `model.enableOpenAILogging`                        | boolean | Aktiviert die Protokollierung von OpenAI-API-Aufrufen zur Fehlerbehebung und Analyse. Wenn aktiviert, werden API-Anfragen und -Antworten in JSON-Dateien protokolliert.                                                                                                                                                                                                | `false`     |
| `model.openAILoggingDir`                           | string  | Benutzerdefinierter Verzeichnispfad für OpenAI-API-Protokolle. Falls nicht angegeben, wird standardmäßig `logs/openai` im aktuellen Arbeitsverzeichnis verwendet. Unterstützt absolute Pfade, relative Pfade (aufgelöst vom aktuellen Arbeitsverzeichnis) und `~`-Erweiterung (Home-Verzeichnis).                                                                     | `undefined` |

**Beispiel model.generationConfig:**

```
{
  "model": {
    "generationConfig": {
      "timeout": 60000,
      "disableCacheControl": false,
      "samplingParams": {
        "temperature": 0.2,
        "top_p": 0.8,
        "max_tokens": 1024
      }
    }
  }
}
```

**model.openAILoggingDir Beispiele:**

- `"~/qwen-logs"` - Protokolliert im Verzeichnis `~/qwen-logs`
- `"./custom-logs"` - Protokolliert im Verzeichnis `./custom-logs` relativ zum aktuellen Verzeichnis
- `"/tmp/openai-logs"` - Protokolliert im absoluten Pfad `/tmp/openai-logs`

#### Kontext

| Einstellung                                       | Typ                        | Beschreibung                                                                                                                                                                                                                                                                                                                                                          | Standard    |
| ------------------------------------------------- | -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `context.fileName`                                | String oder Array aus Strings | Der Name der Kontextdatei(en).                                                                                                                                                                                                                                                                                                                                       | `undefined` |
| `context.importFormat`                            | String                     | Das Format, das beim Importieren von Speicher verwendet wird.                                                                                                                                                                                                                                                                                                         | `undefined` |
| `context.discoveryMaxDirs`                        | Zahl                       | Maximale Anzahl an Verzeichnissen, die bei der Suche nach Speicher durchsucht werden.                                                                                                                                                                                                                                                                                 | `200`       |
| `context.includeDirectories`                      | Array                      | Zusätzliche Verzeichnisse, die im Arbeitsbereichskontext enthalten sein sollen. Gibt ein Array zusätzlicher absoluter oder relativer Pfade an, die im Arbeitsbereichskontext enthalten sein sollen. Fehlende Verzeichnisse werden standardmäßig mit einer Warnung übersprungen. Pfade können `~` verwenden, um sich auf das Home-Verzeichnis des Benutzers zu beziehen. Diese Einstellung kann mit dem Befehlszeilenflag `--include-directories` kombiniert werden. | `[]`        |
| `context.loadFromIncludeDirectories`              | Boolean                    | Steuert das Verhalten des Befehls `/memory refresh`. Wenn auf `true` gesetzt, sollten `QWEN.md`-Dateien aus allen hinzugefügten Verzeichnissen geladen werden. Wenn auf `false` gesetzt, sollte `QWEN.md` nur aus dem aktuellen Verzeichnis geladen werden.                                                                                                               | `false`     |
| `context.fileFiltering.respectGitIgnore`          | Boolean                    | Berücksichtigt `.gitignore`-Dateien bei der Suche.                                                                                                                                                                                                                                                                                                                    | `true`      |
| `context.fileFiltering.respectQwenIgnore`         | Boolean                    | Berücksichtigt `.qwenignore`-Dateien bei der Suche.                                                                                                                                                                                                                                                                                                                   | `true`      |
| `context.fileFiltering.enableRecursiveFileSearch` | Boolean                    | Legt fest, ob rekursiv nach Dateinamen unterhalb des aktuellen Baums gesucht werden soll, wenn `@`-Präfixe im Prompt vervollständigt werden.                                                                                                                                                                                                                           | `true`      |
| `context.fileFiltering.disableFuzzySearch`        | Boolean                    | Wenn `true`, wird die Fuzzy-Suchfunktion beim Suchen nach Dateien deaktiviert, was die Leistung bei Projekten mit vielen Dateien verbessern kann.                                                                                                                                                                                                                      | `false`     |

#### Problembehandlung bei der Dateisuchleistung

Wenn Sie Leistungsprobleme bei der Dateisuche (z. B. mit `@`-Vervollständigungen) haben, insbesondere in Projekten mit einer sehr großen Anzahl von Dateien, können Sie Folgendes in der empfohlenen Reihenfolge ausprobieren:

1. **Verwenden Sie `.qwenignore`:** Erstellen Sie eine `.qwenignore`-Datei im Stammverzeichnis Ihres Projekts, um Verzeichnisse auszuschließen, die eine große Anzahl von Dateien enthalten, auf die Sie nicht verweisen müssen (z. B. Build-Artefakte, Protokolle, `node_modules`). Das Reduzieren der Gesamtzahl der durchsuchten Dateien ist die effektivste Methode, um die Leistung zu verbessern.
2. **Fuzzy-Suche deaktivieren:** Wenn das Ignorieren von Dateien nicht ausreicht, können Sie die Fuzzy-Suche deaktivieren, indem Sie `disableFuzzySearch` in Ihrer `settings.json`-Datei auf `true` setzen. Dadurch wird ein einfacherer, nicht-fuzzy-basierter Abgleichalgorithmus verwendet, der schneller sein kann.
3. **Rekursive Dateisuche deaktivieren:** Als letztes Mittel können Sie die rekursive Dateisuche vollständig deaktivieren, indem Sie `enableRecursiveFileSearch` auf `false` setzen. Dies ist die schnellste Option, da sie einen rekursiven Durchlauf Ihres Projekts vermeidet. Allerdings bedeutet dies, dass Sie bei der Verwendung von `@`-Vervollständigungen den vollständigen Pfad zu den Dateien eingeben müssen.

#### tools

| Einstellung                          | Typ               | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Standard    | Hinweise                                                                                                                                                                                                                                             |
| ------------------------------------ | ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `tools.sandbox`                      | boolean oder string | Sandbox-Ausführungsumgebung (kann ein boolescher Wert oder ein Pfadstring sein).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `undefined` |                                                                                                                                                                                                                                                      |
| `tools.shell.enableInteractiveShell` | boolean           | Verwende `node-pty` für eine interaktive Shell-Erfahrung. Der Fallback auf `child_process` bleibt weiterhin möglich.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `false`     |                                                                                                                                                                                                                                                      |
| `tools.core`                         | Array aus Strings | Kann verwendet werden, um die Menge der integrierten Tools durch eine Positivliste einzuschränken. Es können auch Befehlsspezifische Einschränkungen für Tools festgelegt werden, die dies unterstützen, wie z. B. das `run_shell_command`-Tool. Beispiel: `"tools.core": ["run_shell_command(ls -l)"]` erlaubt nur die Ausführung des Befehls `ls -l`.                                                                                                                                                                                                                                                                                                                                                                                                                                             | `undefined` |                                                                                                                                                                                                                                                      |
| `tools.exclude`                      | Array aus Strings | Zu ignorierende Tool-Namen bei der Erkennung. Es können auch Befehlsspezifische Einschränkungen für Tools festgelegt werden, die dies unterstützen, wie z. B. das `run_shell_command`-Tool. Beispiel: `"tools.exclude": ["run_shell_command(rm -rf)"]` blockiert den Befehl `rm -rf`. **Sicherheitshinweis:** Die Befehlsspezifischen Einschränkungen in `tools.exclude` für `run_shell_command` basieren auf einfacher Stringübereinstimmung und können leicht umgangen werden. Diese Funktion ist **kein Sicherheitsmechanismus** und sollte nicht darauf vertraut werden, um nicht vertrauenswürdigen Code sicher auszuführen. Es wird empfohlen, `tools.core` zu verwenden, um explizit die ausführbaren Befehle auszuwählen.                                                                                                                             | `undefined` |                                                                                                                                                                                                                                                      |
| `tools.allowed`                      | Array aus Strings | Liste von Tool-Namen, für die der Bestätigungsdialog übersprungen wird. Dies ist nützlich für Tools, denen Sie vertrauen und die Sie häufig verwenden. Beispiel: `["run_shell_command(git)", "run_shell_command(npm test)"]` überspringt den Bestätigungsdialog für alle `git`- und `npm test`-Befehle.                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `undefined` |                                                                                                                                                                                                                                                      |
| `tools.approvalMode`                 | string            | Legt den Standard-Genehmigungsmodus für die Tool-Nutzung fest.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | `default`   | Mögliche Werte: `plan` (nur analysieren, keine Dateien ändern oder Befehle ausführen), `default` (Genehmigung vor Dateiänderungen oder Shell-Befehlen erforderlich), `auto-edit` (Dateiänderungen automatisch genehmigen), `yolo` (alle Tool-Aufrufe automatisch genehmigen) |
| `tools.discoveryCommand`             | string            | Befehl zur Erkennung von Tools.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `undefined` |                                                                                                                                                                                                                                                      |
| `tools.callCommand`                  | string            | Definiert einen benutzerdefinierten Shell-Befehl zum Aufrufen eines bestimmten Tools, das mit `tools.discoveryCommand` entdeckt wurde. Der Shell-Befehl muss folgende Kriterien erfüllen: Er muss den Funktionsnamen (genau wie in der [Funktionsdeklaration](https://ai.google.dev/gemini-api/docs/function-calling#function-declarations)) als erstes Kommandozeilenargument entgegennehmen. Er muss Funktionsargumente im JSON-Format über `stdin` lesen, analog zu [`functionCall.args`](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#functioncall). Er muss die Funktionsausgabe im JSON-Format über `stdout` zurückgeben, analog zu [`functionResponse.response.content`](https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference#functionresponse). | `undefined` |                                                                                                                                                                                                                                                      |
| `tools.useRipgrep`                   | boolean           | Verwendet ripgrep für die Dateisuche anstelle der Fallback-Implementierung. Bietet eine schnellere Suchleistung.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `true`      |                                                                                                                                                                                                                                                      |
| `tools.useBuiltinRipgrep`            | boolean           | Verwendet die mitgelieferte ripgrep-Binärdatei. Bei `false` wird stattdessen der systemweite `rg`-Befehl verwendet. Diese Einstellung ist nur wirksam, wenn `tools.useRipgrep` auf `true` gesetzt ist.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `true`      |                                                                                                                                                                                                                                                      |
| `tools.enableToolOutputTruncation`   | boolean           | Aktiviert das Abschneiden großer Tool-Ausgaben.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | `true`      | Neustart erforderlich: Ja                                                                                                                                                                                                                                |
| `tools.truncateToolOutputThreshold`  | number            | Schneidet die Tool-Ausgabe ab, wenn sie diese Anzahl an Zeichen überschreitet. Betrifft die Tools Shell, Grep, Glob, ReadFile und ReadManyFiles.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | `25000`     | Neustart erforderlich: Ja                                                                                                                                                                                                                                |
| `tools.truncateToolOutputLines`      | number            | Maximale Anzahl an Zeilen oder Einträgen, die bei abgeschnittener Tool-Ausgabe erhalten bleiben. Betrifft die Tools Shell, Grep, Glob, ReadFile und ReadManyFiles.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `1000`      | Neustart erforderlich: Ja                                                                                                                                                                                                                                |
| `tools.autoAccept`                   | boolean           | Steuert, ob die CLI Tool-Aufrufe, die als sicher gelten (z. B. schreibgeschützte Operationen), automatisch akzeptiert und ausgeführt werden, ohne explizite Benutzerbestätigung. Bei `true` wird der Bestätigungsdialog für als sicher eingestufte Tools übersprungen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `false`     |                                                                                                                                                                                                                                                      |

#### mcp

| Einstellung         | Typ              | Beschreibung                                                                                                                                                                                                                                                                | Standard    |
| ------------------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| `mcp.serverCommand` | string           | Befehl zum Starten eines MCP-Servers.                                                                                                                                                                                                                                        | `undefined` |
| `mcp.allowed`       | Array aus Strings | Eine Positivliste von MCP-Servern, die erlaubt sind. Ermöglicht es Ihnen, eine Liste von MCP-Servernamen anzugeben, die für das Modell verfügbar gemacht werden sollen. Dies kann verwendet werden, um die Menge der MCP-Server einzuschränken, mit denen verbunden wird. Beachten Sie, dass dies ignoriert wird, wenn `--allowed-mcp-server-names` gesetzt ist. | `undefined` |
| `mcp.excluded`      | Array aus Strings | Eine Negativliste von MCP-Servern, die ausgeschlossen werden sollen. Ein Server, der sowohl in `mcp.excluded` als auch in `mcp.allowed` aufgeführt ist, wird ausgeschlossen. Beachten Sie, dass dies ignoriert wird, wenn `--allowed-mcp-server-names` gesetzt ist.                                                                                           | `undefined` |

> [!note]
>
> **Sicherheitshinweis für MCP-Server:** Diese Einstellungen verwenden einfache String-Vergleiche auf MCP-Servernamen, die manipuliert werden können. Wenn Sie ein Systemadministrator sind und verhindern möchten, dass Benutzer diese Umgehung erreichen, sollten Sie die `mcpServers` auf Systemebene so konfigurieren, dass Benutzer keine eigenen MCP-Server konfigurieren können. Dies sollte nicht als wasserdichte Sicherheitsmaßnahme betrachtet werden.

#### Sicherheit

| Einstellung                    | Typ     | Beschreibung                                      | Standardwert |
| ------------------------------ | ------- | ------------------------------------------------- | ------------ |
| `security.folderTrust.enabled` | boolean | Einstellung zur Verfolgung, ob Ordnervertrauen aktiviert ist. | `false`      |
| `security.auth.selectedType`   | string  | Der aktuell ausgewählte Authentifizierungstyp.    | `undefined`  |
| `security.auth.enforcedType`   | string  | Der erforderliche Authentifizierungstyp (nützlich für Unternehmen). | `undefined`  |
| `security.auth.useExternal`    | boolean | Ob ein externer Authentifizierungsablauf verwendet werden soll. | `undefined`  |

#### advanced

| Einstellung                    | Typ              | Beschreibung                                                                                                                                                                                                                                                                                                                       | Standardwert             |
| ------------------------------ | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------ |
| `advanced.autoConfigureMemory` | boolean          | Automatische Konfiguration der Node.js-Speicherbegrenzungen.                                                                                                                                                                                                                                                                       | `false`                  |
| `advanced.dnsResolutionOrder`  | string           | Die DNS-Auflösungsreihenfolge.                                                                                                                                                                                                                                                                                                     | `undefined`              |
| `advanced.excludedEnvVars`     | array of strings | Umgebungsvariablen, die aus dem Projekt-Kontext ausgeschlossen werden sollen. Gibt Umgebungsvariablen an, die beim Laden aus den `.env`-Dateien des Projekts ausgeschlossen werden sollen. Dies verhindert, dass projektspezifische Umgebungsvariablen (wie `DEBUG=true`) das Verhalten der CLI beeinträchtigen. Variablen aus `.qwen/.env`-Dateien werden nie ausgeschlossen. | `["DEBUG","DEBUG_MODE"]` |
| `advanced.bugCommand`          | object           | Konfiguration für den Fehlerberichtsbefehl. Überschreibt die Standard-URL für den `/bug`-Befehl. Eigenschaften: `urlTemplate` (string): Eine URL, die Platzhalter `{title}` und `{info}` enthalten kann. Beispiel: `"bugCommand": { "urlTemplate": "https://bug.example.com/new?title={title}&info={info}" }`                             | `undefined`              |
| `advanced.tavilyApiKey`        | string           | API-Schlüssel für den Tavily-Websuchdienst. Wird verwendet, um die Funktionalität des `web_search`-Tools zu aktivieren.                                                                                                                                                                                                              | `undefined`              |

> [!note]
>
> **Hinweis zu advanced.tavilyApiKey:** Dies ist ein veraltetes Konfigurationsformat. Für Qwen-OAuth-Nutzer ist der DashScope-Anbieter automatisch verfügbar, ohne jegliche Konfiguration. Für andere Authentifizierungstypen konfigurieren Sie Tavily oder Google-Anbieter mit dem neuen `webSearch`-Konfigurationsformat.

#### mcpServers

Konfiguriert Verbindungen zu einem oder mehreren Model-Context Protocol (MCP)-Servern zum Entdecken und Verwenden benutzerdefinierter Tools. Qwen Code versucht, sich mit jedem konfigurierten MCP-Server zu verbinden, um verfügbare Tools zu entdecken. Wenn mehrere MCP-Server ein Tool mit demselben Namen bereitstellen, werden die Tool-Namen mit dem Server-Alias, den Sie in der Konfiguration definiert haben, vorangestellt (z. B. `serverAlias__actualToolName`), um Konflikte zu vermeiden. Beachten Sie, dass das System möglicherweise bestimmte Schema-Eigenschaften aus MCP-Tool-Definitionen zur Kompatibilität entfernt. Mindestens eines der Felder `command`, `url` oder `httpUrl` muss angegeben werden. Werden mehrere Felder angegeben, gilt die folgende Rangfolge: `httpUrl`, dann `url`, dann `command`.

| Eigenschaft                             | Typ              | Beschreibung                                                                                                                                                                                                                                                       | Optional |
| --------------------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------- |
| `mcpServers.<SERVER_NAME>.command`      | string           | Der Befehl, der ausgeführt wird, um den MCP-Server über Standard-I/O zu starten.                                                                                                                                                                                    | Ja       |
| `mcpServers.<SERVER_NAME>.args`         | Array aus Strings | Argumente, die an den Befehl übergeben werden.                                                                                                                                                                                                                     | Ja       |
| `mcpServers.<SERVER_NAME>.env`          | Objekt           | Umgebungsvariablen, die für den Serverprozess festgelegt werden.                                                                                                                                                                                                   | Ja       |
| `mcpServers.<SERVER_NAME>.cwd`          | string           | Das Arbeitsverzeichnis, in dem der Server gestartet wird.                                                                                                                                                                                                          | Ja       |
| `mcpServers.<SERVER_NAME>.url`          | string           | Die URL eines MCP-Servers, der Server-Sent Events (SSE) für die Kommunikation verwendet.                                                                                                                                                                           | Ja       |
| `mcpServers.<SERVER_NAME>.httpUrl`      | string           | Die URL eines MCP-Servers, der streambares HTTP für die Kommunikation verwendet.                                                                                                                                                                                   | Ja       |
| `mcpServers.<SERVER_NAME>.headers`      | Objekt           | Eine Zuordnung von HTTP-Headern, die bei Anfragen an `url` oder `httpUrl` gesendet werden.                                                                                                                                                                         | Ja       |
| `mcpServers.<SERVER_NAME>.timeout`      | Zahl             | Zeitlimit in Millisekunden für Anfragen an diesen MCP-Server.                                                                                                                                                                                                      | Ja       |
| `mcpServers.<SERVER_NAME>.trust`        | Boolean          | Dem Server vertrauen und alle Bestätigungen beim Aufruf von Tools umgehen.                                                                                                                                                                                         | Ja       |
| `mcpServers.<SERVER_NAME>.description`  | string           | Eine kurze Beschreibung des Servers, die möglicherweise zu Anzeigezwecken verwendet wird.                                                                                                                                                                          | Ja       |
| `mcpServers.<SERVER_NAME>.includeTools` | Array aus Strings | Liste der Tool-Namen, die von diesem MCP-Server eingeschlossen werden sollen. Wenn angegeben, sind nur die hier aufgelisteten Tools von diesem Server verfügbar (Whitelist-Verhalten). Ohne Angabe sind standardmäßig alle Tools des Servers aktiviert.                   | Ja       |
| `mcpServers.<SERVER_NAME>.excludeTools` | Array aus Strings | Liste der Tool-Namen, die von diesem MCP-Server ausgeschlossen werden sollen. Die hier aufgelisteten Tools stehen dem Modell nicht zur Verfügung, auch wenn sie vom Server bereitgestellt werden. **Hinweis:** `excludeTools` hat Vorrang vor `includeTools` – wenn ein Tool in beiden Listen steht, wird es ausgeschlossen. | Ja       |

#### telemetry

Konfiguriert die Protokollierung und Metrikerfassung für Qwen Code. Weitere Informationen findest du unter [telemetry](/developers/development/telemetry).

| Einstellung              | Typ     | Beschreibung                                                                      | Standard |
| ------------------------ | ------- | -------------------------------------------------------------------------------- | ------- |
| `telemetry.enabled`      | boolean | Gibt an, ob Telemetrie aktiviert ist.                                             |         |
| `telemetry.target`       | string  | Das Ziel für gesammelte Telemetriedaten. Unterstützte Werte sind `local` und `gcp`. |         |
| `telemetry.otlpEndpoint` | string  | Der Endpunkt für den OTLP Exporter.                                              |         |
| `telemetry.otlpProtocol` | string  | Das Protokoll für den OTLP Exporter (`grpc` oder `http`).                           |         |
| `telemetry.logPrompts`   | boolean | Gibt an, ob der Inhalt von Benutzeranfragen in die Logs aufgenommen wird.               |         |
| `telemetry.outfile`      | string  | Die Datei, in die Telemetriedaten geschrieben werden, wenn `target` den Wert `local` hat.                         |         |
| `telemetry.useCollector` | boolean | Gibt an, ob ein externer OTLP Collector verwendet wird.                                       |         |

### Beispiel `settings.json`

Hier ist ein Beispiel für eine `settings.json`-Datei mit der verschachtelten Struktur, neu ab v0.3.0:

```
{
  "general": {
    "vimMode": true,
    "preferredEditor": "code"
  },
  "ui": {
    "theme": "GitHub",
    "hideBanner": true,
    "hideTips": false,
    "customWittyPhrases": [
      "You forget a thousand things every day. Make sure this is one of 'em",
      "Connecting to AGI"
    ]
  },
  "tools": {
    "approvalMode": "yolo",
    "sandbox": "docker",
    "discoveryCommand": "bin/get_tools",
    "callCommand": "bin/call_tool",
    "exclude": ["write_file"]
  },
  "mcpServers": {
    "mainServer": {
      "command": "bin/mcp_server.py"
    },
    "anotherServer": {
      "command": "node",
      "args": ["mcp_server.js", "--verbose"]
    }
  },
  "telemetry": {
    "enabled": true,
    "target": "local",
    "otlpEndpoint": "http://localhost:4317",
    "logPrompts": true
  },
  "privacy": {
    "usageStatisticsEnabled": true
  },
  "model": {
    "name": "qwen3-coder-plus",
    "maxSessionTurns": 10,
    "enableOpenAILogging": false,
    "openAILoggingDir": "~/qwen-logs",
    "summarizeToolOutput": {
      "run_shell_command": {
        "tokenBudget": 100
      }
    }
  },
  "context": {
    "fileName": ["CONTEXT.md", "QWEN.md"],
    "includeDirectories": ["path/to/dir1", "~/path/to/dir2", "../path/to/dir3"],
    "loadFromIncludeDirectories": true,
    "fileFiltering": {
      "respectGitIgnore": false
    }
  },
  "advanced": {
    "excludedEnvVars": ["DEBUG", "DEBUG_MODE", "NODE_ENV"]
  }
}
```

## Shell-Verlauf

Die CLI speichert einen Verlauf der ausgeführten Shell-Befehle. Um Konflikte zwischen verschiedenen Projekten zu vermeiden, wird dieser Verlauf in einem projektspezifischen Verzeichnis innerhalb des Home-Ordners des Benutzers gespeichert.

- **Speicherort:** `~/.qwen/tmp/<project_hash>/shell_history`
  - `<project_hash>` ist eine eindeutige Kennung, die aus dem Stammverzeichnis des Projekts generiert wird.
  - Der Verlauf wird in einer Datei mit dem Namen `shell_history` gespeichert.

## Umgebungsvariablen & `.env`-Dateien

Umgebungsvariablen sind eine gängige Methode zur Konfiguration von Anwendungen, insbesondere für sensible Informationen (wie Tokens) oder Einstellungen, die sich zwischen verschiedenen Umgebungen unterscheiden können.

Qwen Code kann Umgebungsvariablen automatisch aus `.env`-Dateien laden.
Für authentifizierungsrelevante Variablen (wie `OPENAI_*`) und den empfohlenen Ansatz mit `.qwen/.env` siehe **[Authentifizierung](../users/configuration/auth)**.

> [!tip]
>
> **Ausschluss von Umgebungsvariablen:** Einige Umgebungsvariablen (wie `DEBUG` und `DEBUG_MODE`) werden standardmäßig automatisch aus Projekt-.env-Dateien ausgeschlossen, um Störungen im Verhalten der CLI zu vermeiden. Variablen aus `.qwen/.env`-Dateien werden niemals ausgeschlossen. Sie können dieses Verhalten mithilfe der Einstellung `advanced.excludedEnvVars` in Ihrer `settings.json`-Datei anpassen.

### Tabelle der Umgebungsvariablen

| Variable                         | Beschreibung                                                                                                                                           | Hinweise                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `GEMINI_TELEMETRY_ENABLED`       | Auf `true` oder `1` setzen, um Telemetrie zu aktivieren. Jeder andere Wert wird als Deaktivierung behandelt.                                              | Überschreibt die Einstellung `telemetry.enabled`.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `GEMINI_TELEMETRY_TARGET`        | Legt das Telemetrie-Ziel fest (`local` oder `gcp`).                                                                                                     | Überschreibt die Einstellung `telemetry.target`.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `GEMINI_TELEMETRY_OTLP_ENDPOINT` | Legt den OTLP-Endpunkt für die Telemetrie fest.                                                                                                         | Überschreibt die Einstellung `telemetry.otlpEndpoint`.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `GEMINI_TELEMETRY_OTLP_PROTOCOL` | Legt das OTLP-Protokoll fest (`grpc` oder `http`).                                                                                                      | Überschreibt die Einstellung `telemetry.otlpProtocol`.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `GEMINI_TELEMETRY_LOG_PROMPTS`   | Auf `true` oder `1` setzen, um das Protokollieren von Benutzeranfragen zu aktivieren oder zu deaktivieren. Jeder andere Wert wird als Deaktivierung behandelt. | Überschreibt die Einstellung `telemetry.logPrompts`.                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `GEMINI_TELEMETRY_OUTFILE`       | Legt den Dateipfad fest, in den Telemetriedaten geschrieben werden, wenn das Ziel `local` ist.                                                          | Überschreibt die Einstellung `telemetry.outfile`.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `GEMINI_TELEMETRY_USE_COLLECTOR` | Auf `true` oder `1` setzen, um die Verwendung eines externen OTLP-Sammlers zu aktivieren oder zu deaktivieren. Jeder andere Wert wird als Deaktivierung behandelt. | Überschreibt die Einstellung `telemetry.useCollector`.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `GEMINI_SANDBOX`                 | Alternative zur `sandbox`-Einstellung in `settings.json`.                                                                                              | Akzeptiert `true`, `false`, `docker`, `podman` oder einen benutzerdefinierten Befehlsstring.                                                                                                                                                                                                                                                                                                                                                                                       |
| `SEATBELT_PROFILE`               | (nur macOS) Wechselt das Seatbelt-Profil (`sandbox-exec`) unter macOS.                                                                                  | `permissive-open`: (Standard) Beschränkt Schreibvorgänge auf den Projektordner (und einige wenige andere Ordner, siehe `packages/cli/src/utils/sandbox-macos-permissive-open.sb`), erlaubt jedoch andere Vorgänge. `strict`: Verwendet ein strenges Profil, das Vorgänge standardmäßig ablehnt. `<profile_name>`: Verwendet ein benutzerdefiniertes Profil. Um ein benutzerdefiniertes Profil zu definieren, erstelle eine Datei mit dem Namen `sandbox-macos-<profile_name>.sb` im `.qwen/`-Verzeichnis deines Projekts (z. B. `my-project/.qwen/sandbox-macos-custom.sb`). |
| `DEBUG` oder `DEBUG_MODE`        | (häufig von zugrunde liegenden Bibliotheken oder der CLI selbst verwendet) Auf `true` oder `1` setzen, um ausführliche Debug-Protokolle zu aktivieren, was bei der Fehlersuche hilfreich sein kann. | **Hinweis:** Diese Variablen werden standardmäßig automatisch aus Projektdateien vom Typ `.env` ausgeschlossen, um Störungen beim CLI-Verhalten zu vermeiden. Verwende stattdessen `.qwen/.env`-Dateien, wenn du diese speziell für Qwen Code festlegen musst.                                                                                                                                                          |
| `NO_COLOR`                       | Auf einen beliebigen Wert setzen, um alle farbigen Ausgaben in der CLI zu deaktivieren.                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `CLI_TITLE`                      | Auf eine Zeichenfolge setzen, um den Titel der CLI anzupassen.                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `CODE_ASSIST_ENDPOINT`           | Gibt den Endpunkt für den Code-Assist-Server an.                                                                                                       | Dies ist nützlich für Entwicklung und Tests.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `TAVILY_API_KEY`                 | Dein API-Schlüssel für den Tavily-Websuchdienst.                                                                                                       | Wird verwendet, um die Funktionalität des `web_search`-Tools zu aktivieren. Beispiel: `export TAVILY_API_KEY="tvly-dein-api-schluessel-hier"`                                                                                                                                                                                                                                                                                                                                     |

## Befehlszeilenargumente

Argumente, die direkt beim Ausführen der CLI übergeben werden, können andere Konfigurationen für diese spezifische Sitzung überschreiben.

### Tabelle der Befehlszeilenargumente

| Argument                     | Alias | Beschreibung                                                                                                                                                                             | Mögliche Werte                         | Hinweise                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ---------------------------- | ----- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--model`                    | `-m`  | Gibt das Qwen-Modell an, das für diese Sitzung verwendet werden soll.                                                                                                                    | Modellname                             | Beispiel: `npm start -- --model qwen3-coder-plus`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `--prompt`                   | `-p`  | Wird verwendet, um einen Prompt direkt an den Befehl zu übergeben. Dies ruft Qwen Code im nicht-interaktiven Modus auf.                                                                   | Ihr Prompt-Text                        | Für Skriptbeispiele verwenden Sie das Flag `--output-format json`, um eine strukturierte Ausgabe zu erhalten.                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `--prompt-interactive`       | `-i`  | Startet eine interaktive Sitzung mit dem bereitgestellten Prompt als Anfangseingabe.                                                                                                     | Ihr Prompt-Text                        | Der Prompt wird innerhalb der interaktiven Sitzung verarbeitet, nicht davor. Kann nicht verwendet werden, wenn Eingaben von stdin weitergeleitet werden. Beispiel: `qwen -i "explain this code"`                                                                                                                                                                                                                                                                                                                                                                     |
| `--output-format`            | `-o`  | Gibt das Format der CLI-Ausgabe für den nicht-interaktiven Modus an.                                                                                                                     | `text`, `json`, `stream-json`          | `text`: (Standard) Die normale menschenlesbare Ausgabe. `json`: Eine maschinenlesbare JSON-Ausgabe am Ende der Ausführung. `stream-json`: Streaming von JSON-Nachrichten während der Ausführung. Für strukturierte Ausgaben und Skripte verwenden Sie `--output-format json` oder `--output-format stream-json`. Siehe [Headless Mode](../users/features/headless) für detaillierte Informationen.                                                                                                               |
| `--input-format`             |       | Gibt das Format der Eingabe von der Standardeingabe an.                                                                                                                                  | `text`, `stream-json`                  | `text`: (Standard) Normale Texteingabe von stdin oder Befehlszeilenargumenten. `stream-json`: JSON-Nachrichtenprotokoll über stdin für bidirektionale Kommunikation. Voraussetzung: `--input-format stream-json` erfordert `--output-format stream-json`. Bei Verwendung von `stream-json` ist stdin für Protokollnachrichten reserviert. Siehe [Headless Mode](../users/features/headless) für detaillierte Informationen.                                                                           |
| `--include-partial-messages` |       | Bezieht partielle Assistentennachrichten ein, wenn das `stream-json`-Ausgabeformat verwendet wird. Wenn aktiviert, werden Stream-Ereignisse (message_start, content_block_delta usw.) während des Streamings ausgegeben. |                                        | Standard: `false`. Voraussetzung: Erfordert `--output-format stream-json`. Siehe [Headless Mode](../users/features/headless) für detaillierte Informationen zu Stream-Ereignissen.                                                                                                                                                                                                                                                                                                                                                                                    |
| `--sandbox`                  | `-s`  | Aktiviert den Sandbox-Modus für diese Sitzung.                                                                                                                                           |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--sandbox-image`            |       | Legt die Sandbox-Image-URI fest.                                                                                                                                                         |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--debug`                    | `-d`  | Aktiviert den Debug-Modus für diese Sitzung und liefert eine ausführlichere Ausgabe.                                                                                                    |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--all-files`                | `-a`  | Falls gesetzt, werden rekursiv alle Dateien im aktuellen Verzeichnis als Kontext für den Prompt einbezogen.                                                                              |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--help`                     | `-h`  | Zeigt Hilfsinformationen zu den Befehlszeilenargumenten an.                                                                                                                              |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--show-memory-usage`        |       | Zeigt die aktuelle Speichernutzung an.                                                                                                                                                   |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--yolo`                     |       | Aktiviert den YOLO-Modus, bei dem automatisch alle Toolaufrufe genehmigt werden.                                                                                                         |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--approval-mode`            |       | Legt den Genehmigungsmodus für Toolaufrufe fest.                                                                                                                                         | `plan`, `default`, `auto-edit`, `yolo` | Unterstützte Modi: `plan`: Nur analysieren – keine Dateien ändern oder Befehle ausführen. `default`: Genehmigung für Dateiänderungen oder Shell-Befehle erforderlich (Standardverhalten). `auto-edit`: Automatische Genehmigung von Bearbeitungstools (edit, write_file), andere Tools erfordern Bestätigung. `yolo`: Automatische Genehmigung aller Toolaufrufe (äquivalent zu `--yolo`). Kann nicht zusammen mit `--yolo` verwendet werden. Verwenden Sie stattdessen `--approval-mode=yolo` für den neuen vereinheitlichten Ansatz. Beispiel: `qwen --approval-mode auto-edit`<br>Siehe mehr unter [Approval Mode](../users/features/approval-mode). |
| `--allowed-tools`            |       | Eine durch Kommas getrennte Liste von Toolnamen, die den Bestätigungsdialog umgehen.                                                                                                     | Toolnamen                              | Beispiel: `qwen --allowed-tools "Shell(git status)"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `--telemetry`                |       | Aktiviert [Telemetrie](/developers/development/telemetry).                                                                                                                               |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--telemetry-target`         |       | Legt das Telemetrie-Ziel fest.                                                                                                                                                           |                                        | Siehe [Telemetrie](/developers/development/telemetry) für weitere Informationen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `--telemetry-otlp-endpoint`  |       | Legt den OTLP-Endpunkt für die Telemetrie fest.                                                                                                                                          |                                        | Siehe [Telemetrie](/developers/development/telemetry) für weitere Informationen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `--telemetry-otlp-protocol`  |       | Legt das OTLP-Protokoll für die Telemetrie fest (`grpc` oder `http`).                                                                                                                    |                                        | Standardmäßig `grpc`. Siehe [Telemetrie](/developers/development/telemetry) für weitere Informationen.                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `--telemetry-log-prompts`    |       | Aktiviert die Protokollierung von Prompts für die Telemetrie.                                                                                                                            |                                        | Siehe [Telemetrie](/developers/development/telemetry) für weitere Informationen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `--checkpointing`            |       | Aktiviert [Checkpointing](../users/features/checkpointing).                                                                                                                                |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--extensions`               | `-e`  | Gibt eine Liste der Erweiterungen an, die für die Sitzung verwendet werden sollen.                                                                                                       | Erweiterungsnamen                     | Falls nicht angegeben, werden alle verfügbaren Erweiterungen verwendet. Verwenden Sie den speziellen Begriff `qwen -e none`, um alle Erweiterungen zu deaktivieren. Beispiel: `qwen -e my-extension -e my-other-extension`                                                                                                                                                                                                                                                                                                                                        |
| `--list-extensions`          | `-l`  | Listet alle verfügbaren Erweiterungen auf und beendet sich anschließend.                                                                                                                 |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--proxy`                    |       | Legt den Proxy für die CLI fest.                                                                                                                                                         | Proxy-URL                              | Beispiel: `--proxy http://localhost:7890`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `--include-directories`      |       | Fügt zusätzliche Verzeichnisse zum Arbeitsbereich hinzu, um Unterstützung für mehrere Verzeichnisse zu ermöglichen.                                                                      | Verzeichnispfade                       | Kann mehrfach oder als kommagetrennte Werte angegeben werden. Maximal 5 Verzeichnisse können hinzugefügt werden. Beispiel: `--include-directories /path/to/project1,/path/to/project2` oder `--include-directories /path/to/project1 --include-directories /path/to/project2`                                                                                                                                                                                                                                                                                         |
| `--screen-reader`            |       | Aktiviert den Screenreader-Modus, der die TUI für bessere Kompatibilität mit Screenreadern anpasst.                                                                                      |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--version`                  |       | Zeigt die Version der CLI an.                                                                                                                                                            |                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `--openai-logging`           |       | Aktiviert die Protokollierung von OpenAI-API-Aufrufen zur Fehlerbehebung und Analyse.                                                                                                   |                                        | Dieses Flag überschreibt die Einstellung `enableOpenAILogging` in `settings.json`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `--openai-logging-dir`       |       | Legt einen benutzerdefinierten Verzeichnispfad für OpenAI-API-Logs fest.                                                                                                                | Verzeichnispfad                        | Dieses Flag überschreibt die Einstellung `openAILoggingDir` in `settings.json`. Unterstützt absolute Pfade, relative Pfade und `~`-Erweiterung. Beispiel: `qwen --openai-logging-dir "~/qwen-logs" --openai-logging`                                                                                                                                                                                                                                                                                                                                               |
| `--tavily-api-key`           |       | Legt den Tavily-API-Schlüssel für die Web-Suchfunktion dieser Sitzung fest.                                                                                                              | API-Schlüssel                          | Beispiel: `qwen --tavily-api-key tvly-your-api-key-here`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## Kontextdateien (Hierarchischer Anweisungskontext)

Auch wenn es sich nicht um eine strikte Konfiguration für das Verhalten der CLI handelt, sind Kontextdateien (standardmäßig `QWEN.md`, aber konfigurierbar über die Einstellung `context.fileName`) entscheidend für die Konfiguration des _Anweisungskontexts_ (auch als „Speicher“ bezeichnet). Diese leistungsstarke Funktion ermöglicht es Ihnen, projektspezifische Anweisungen, Codierungsrichtlinien oder andere relevante Hintergrundinformationen an die KI weiterzugeben, wodurch deren Antworten gezielter und genauer auf Ihre Bedürfnisse abgestimmt werden. Die CLI enthält UI-Elemente, wie z. B. einen Indikator in der Fußzeile, der die Anzahl der geladenen Kontextdateien anzeigt, um Sie über den aktiven Kontext zu informieren.

- **Zweck:** Diese Markdown-Dateien enthalten Anweisungen, Richtlinien oder Kontextinformationen, die dem Qwen-Modell während Ihrer Interaktionen bekannt sein sollen. Das System ist so konzipiert, dass es diesen Anweisungskontext hierarchisch verwaltet.

### Beispiel für den Inhalt einer Kontextdatei (z. B. `QWEN.md`)

Hier ist ein konzeptionelles Beispiel dafür, was eine Kontextdatei im Stammverzeichnis eines TypeScript-Projekts enthalten könnte:

```

# Projekt: Meine fantastische TypeScript-Bibliothek

## Allgemeine Anweisungen:
- Bei der Generierung neuer TypeScript-Code sollte der bestehende Codierungsstil befolgt werden.
- Stellen Sie sicher, dass alle neuen Funktionen und Klassen über JSDoc-Kommentare verfügen.
- Bevorzugen Sie funktionale Programmierparadigmen, wo dies angemessen ist.
- Der gesamte Code sollte mit TypeScript 5.0 und Node.js 20+ kompatibel sein.

## Codierungsstil:
- Verwenden Sie 2 Leerzeichen für die Einrückung.
- Schnittstellennamen sollten mit `I` vorangestellt werden (z. B. `IUserService`).
- Private Klassenmember sollten mit einem Unterstrich (`_`) vorangestellt werden.
- Verwenden Sie immer strikte Gleichheit (`===` und `!==`).

## Spezifische Komponente: `src/api/client.ts`
- Diese Datei behandelt alle ausgehenden API-Anfragen.
- Wenn neue API-Aufruffunktionen hinzugefügt werden, stellen Sie sicher, dass diese eine robuste Fehlerbehandlung und Protokollierung enthalten.
- Verwenden Sie das vorhandene `fetchWithRetry`-Hilfsprogramm für alle GET-Anfragen.

## Zu den Abhängigkeiten:
- Vermeide das Einführen neuer externer Abhängigkeiten, es sei denn, es ist absolut notwendig.
- Falls eine neue Abhängigkeit erforderlich ist, gib bitte den Grund an.
```

Dieses Beispiel zeigt, wie du allgemeinen Projektkontext, spezifische Codierungsrichtlinien und sogar Hinweise zu bestimmten Dateien oder Komponenten bereitstellen kannst. Je relevanter und präziser deine Kontextdateien sind, desto besser kann die KI dich unterstützen. Projektbezogene Kontextdateien werden dringend empfohlen, um Konventionen und Kontext festzulegen.

- **Hierarchisches Laden und Rangfolge:** Die CLI implementiert ein ausgeklügeltes hierarchisches Speichersystem, indem sie Kontextdateien (z. B. `QWEN.md`) aus mehreren Speicherorten lädt. Inhalte aus Dateien weiter unten in dieser Liste (spezifischer) überschreiben oder ergänzen in der Regel Inhalte aus Dateien weiter oben (allgemeiner). Die genaue Reihenfolge der Verkettung und der endgültige Kontext können mit dem Befehl `/memory show` überprüft werden. Die typische Ladereihenfolge ist:
  1. **Globale Kontextdatei:**
     - Speicherort: `~/.qwen/<konfigurierter-Kontext-Dateiname>` (z. B. `~/.qwen/QWEN.md` in deinem Benutzerverzeichnis).
     - Geltungsbereich: Stellt Standardanweisungen für alle deine Projekte bereit.
  2. **Projektstammverzeichnis & übergeordnete Kontextdateien:**
     - Speicherort: Die CLI sucht im aktuellen Arbeitsverzeichnis und anschließend in jedem übergeordneten Verzeichnis nach der konfigurierten Kontextdatei, bis entweder das Projektstammverzeichnis (durch einen `.git`-Ordner gekennzeichnet) oder dein Home-Verzeichnis erreicht wird.
     - Geltungsbereich: Stellt kontextrelevanten Inhalt für das gesamte Projekt oder einen großen Teil davon bereit.
  3. **Unterverzeichnis-Kontextdateien (kontextuell/lokal):**
     - Speicherort: Die CLI durchsucht auch Unterverzeichnisse _unterhalb_ des aktuellen Arbeitsverzeichnisses nach der konfigurierten Kontextdatei (unter Berücksichtigung gängiger Ignoriermuster wie `node_modules`, `.git` usw.). Die Breite dieser Suche ist standardmäßig auf 200 Verzeichnisse begrenzt, kann jedoch über die Einstellung `context.discoveryMaxDirs` in deiner `settings.json`-Datei konfiguriert werden.
     - Geltungsbereich: Ermöglicht hochspezifische Anweisungen, die für eine bestimmte Komponente, ein Modul oder einen Abschnitt deines Projekts relevant sind.
- **Verkettung & UI-Anzeige:** Die Inhalte aller gefundenen Kontextdateien werden verkettet (mit Trennzeichen zur Angabe ihres Ursprungs und Pfads) und als Teil des Systemprompts bereitgestellt. In der CLI-Fußzeile wird die Anzahl der geladenen Kontextdateien angezeigt, was dir einen schnellen visuellen Hinweis auf den aktiven Anweisungskontext gibt.
- **Inhalte importieren:** Du kannst deine Kontextdateien modularisieren, indem du andere Markdown-Dateien mithilfe der Syntax `@pfad/zur/datei.md` importierst. Weitere Details findest du in der [Dokumentation zum Memory Import Processor](../users/configuration/memory).
- **Befehle zur Speicherverwaltung:**
  - Verwende `/memory refresh`, um einen erneuten Scan und das Neuladen aller Kontextdateien von allen konfigurierten Speicherorten zu erzwingen. Dadurch wird der Anweisungskontext der KI aktualisiert.
  - Verwende `/memory show`, um den aktuell geladenen kombinierten Anweisungskontext anzuzeigen, sodass du die Hierarchie und den von der KI verwendeten Inhalt überprüfen kannst.
  - In der [Befehlsdokumentation](../users/reference/cli-reference) findest du vollständige Details zum `/memory`-Befehl und seinen Unterbefehlen (`show` und `refresh`).

Durch das Verstehen und Nutzen dieser Konfigurationsebenen sowie der hierarchischen Struktur von Kontextdateien kannst du effektiv den Speicher der KI verwalten und die Antworten von Qwen Code an deine spezifischen Bedürfnisse und Projekte anpassen.

## Sandbox

Qwen Code kann potenziell unsichere Operationen (wie Shell-Befehle und Dateiänderungen) innerhalb einer sandgeboxten Umgebung ausführen, um Ihr System zu schützen.

Die [Sandbox](../users/features/sandbox) ist standardmäßig deaktiviert, aber Sie können sie auf verschiedene Arten aktivieren:

- Verwenden des Flags `--sandbox` oder `-s`.
- Setzen der Umgebungsvariablen `GEMINI_SANDBOX`.
- Die Sandbox ist standardmäßig aktiviert, wenn `--yolo` oder `--approval-mode=yolo` verwendet wird.

Standardmäßig verwendet es ein vorgefertigtes Docker-Image namens `qwen-code-sandbox`.

Für projektspezifische Anforderungen an die Sandboxing-Umgebung können Sie eine benutzerdefinierte Dockerfile unter `.qwen/sandbox.Dockerfile` im Stammverzeichnis Ihres Projekts erstellen. Diese Dockerfile kann auf dem Basis-Sandbox-Image basieren:

```
FROM qwen-code-sandbox

# Fügen Sie hier Ihre benutzerdefinierten Abhängigkeiten oder Konfigurationen hinzu

# Zum Beispiel:

# RUN apt-get update && apt-get install -y some-package
```

# COPY ./my-config /app/my-config
```

Wenn `.qwen/sandbox.Dockerfile` existiert, kannst du die Umgebungsvariable `BUILD_SANDBOX` verwenden, wenn du Qwen Code ausführst, um automatisch das benutzerdefinierte Sandbox-Image zu erstellen:

```
BUILD_SANDBOX=1 qwen -s
```

## Nutzungsstatistiken

Um uns bei der Verbesserung von Qwen Code zu helfen, sammeln wir anonymisierte Nutzungsstatistiken. Diese Daten helfen uns zu verstehen, wie die CLI verwendet wird, häufige Probleme zu identifizieren und neue Funktionen zu priorisieren.

**Was wir sammeln:**

- **Tool-Aufrufe:** Wir protokollieren die Namen der aufgerufenen Tools, ob sie erfolgreich waren oder fehlschlugen, sowie deren Ausführungszeit. Wir sammeln weder die an die Tools übergebenen Argumente noch von ihnen zurückgegebene Daten.
- **API-Anfragen:** Wir protokollieren das für jede Anfrage verwendete Modell, die Dauer der Anfrage und ihren Erfolg. Wir sammeln nicht den Inhalt der Prompts oder Antworten.
- **Sitzungsinformationen:** Wir sammeln Informationen zur Konfiguration der CLI, wie z. B. die aktivierten Tools und den Genehmigungsmodus.

**Was wir NICHT sammeln:**

- **Personenbezogene Daten (PII):** Wir sammeln keine persönlichen Informationen wie Ihren Namen, Ihre E-Mail-Adresse oder API-Schlüssel.
- **Prompt- und Antwortinhalte:** Wir protokollieren nicht den Inhalt Ihrer Prompts oder die Antworten des Modells.
- **Dateiinhalte:** Wir protokollieren nicht den Inhalt von Dateien, die von der CLI gelesen oder geschrieben werden.

**So deaktivieren Sie die Sammlung:**

Sie können die Sammlung von Nutzungsstatistiken jederzeit deaktivieren, indem Sie die Eigenschaft `usageStatisticsEnabled` unter der Kategorie `privacy` in Ihrer `settings.json`-Datei auf `false` setzen:

```
{
  "privacy": {
    "usageStatisticsEnabled": false
  }
}
```

> [!note]
>
> Wenn die Nutzungsstatistiken aktiviert sind, werden Ereignisse an einen Alibaba Cloud RUM-Sammlungsendpunkt gesendet.