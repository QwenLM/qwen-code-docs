# トークンキャッシングとコスト最適化

Qwen Code は、API キー認証を使用する際に、トークンキャッシングを通じて API コストを自動的に最適化します。この機能は、システム指示や会話履歴など頻繁に使用されるコンテンツを保存し、後続のリクエストで処理されるトークン数を削減します。

## あなたの役に立つ点

- **コスト削減**: トークン数が少なくなれば、API コストも低減されます
- **高速な応答**: キャッシュされたコンテンツはより迅速に取得されます
- **自動最適化**: 設定不要で、バックグラウンドで動作します

## トークンキャッシングが利用可能なのは

- API キーユーザー（Qwen API キー、OpenAI 互換プロバイダー）

## 貯金の監視

`/stats` コマンドを使用して、キャッシュされたトークンの節約状況を確認できます：

- アクティブな場合、統計表示にはキャッシュから提供されたトークン数が表示されます
- 絶対数とキャッシュされたトークンの割合の両方が表示されます
- 例：「入力トークンの10,500（90.4%）がキャッシュから提供され、コストが削減されました。」

この情報は、キャッシュされたトークンが使用されている場合にのみ表示され、これはAPIキー認証では発生しますが、OAuth認証では発生しません。

## 統計表示の例

![Qwen Code Stats Display](https://img.alicdn.com/imgextra/i3/O1CN01F1yzRs1juyZu63jdS_!!6000000004609-2-tps-1038-738.png)

上記の画像は、`/stats` コマンドの出力例を示しており、キャッシュされたトークンの節約情報を強調しています。