# 令牌缓存与成本优化

Qwen Code 在使用 API 密钥认证时，会通过令牌缓存自动优化 API 成本。此功能会存储常用内容（如系统指令和对话历史），以减少后续请求中处理的令牌数量。

## 它如何为您带来帮助

- **降低成本**：更少的令牌意味着更低的 API 成本  
- **更快响应**：缓存内容可被快速检索  
- **自动优化**：无需配置，后台自动运行  

## 令牌缓存适用于

- API 密钥用户（Qwen API 密钥、OpenAI 兼容提供商）

## 监控你的节省情况

使用 `/stats` 命令查看已缓存的 token 节省情况：

- 当功能激活时，统计信息会显示有多少 token 是从缓存中提供的
- 你会看到缓存 token 的绝对数量和百分比
- 示例："10,500 (90.4%) 的输入 token 来自缓存，从而降低了成本。"

此信息仅在使用缓存 token 时显示，这种情况发生在使用 API 密钥认证时，而 OAuth 认证则不会。

## 示例统计信息展示

![Qwen Code 统计信息展示](https://img.alicdn.com/imgextra/i3/O1CN01F1yzRs1juyZu63jdS_!!6000000004609-2-tps-1038-738.png)

上图展示了 `/stats` 命令输出的一个示例，高亮显示了缓存 token 节省的信息。